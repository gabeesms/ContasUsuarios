{"remainingRequest":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\wamp64\\www\\smartpoint\\smartpoint\\src\\views\\Acessos\\UsuarioForm.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\src\\views\\Acessos\\UsuarioForm.vue","mtime":1608501171678},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCBWdWUgZnJvbSAidnVlIjsNCg0KaW1wb3J0IEtMb2FkaW5nIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvS0xvYWRpbmcudnVlIjsNCmltcG9ydCBLRGlhbG9nIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvS0RpYWxvZy52dWUiOw0KaW1wb3J0IEtEYXRhTGlzdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL0tEYXRhTGlzdC52dWUiOw0KDQppbXBvcnQgQ29tcG9uZW50IGZyb20gInZ1ZS1jbGFzcy1jb21wb25lbnQiOw0KaW1wb3J0IHsgV2F0Y2ggfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsNCg0KaW1wb3J0IHsgRGlzcGxheSB9IGZyb20gIi4uLy4uL2NvbmZpZ3VyYXRpb24vZGlzcGxheSI7DQppbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAiLi4vLi4vY29uZmlndXJhdGlvbi9zdG9yYWdlIjsNCg0KaW1wb3J0IHsgSGVhZGVyLCBIZWFkZXJJY29uLCBIZWFkZXJBY3Rpb24gfSBmcm9tICIuLi8uLi9tb2RlbHMvaGVhZGVyIjsNCmltcG9ydCB7IEhlYWRlcnMgfSBmcm9tICIuLi8uLi9tb2RlbHMvaGVhZGVycyI7DQoNCmltcG9ydCB7DQogIElVc3VhcmlvRm9ybVZpZXcsDQogIElVc3VhcmlvRm9ybUNvbnRyb2xsZXIsDQp9IGZyb20gIi4uLy4uL2NvbnRyYWN0cy9BY2Vzc29zL1VzdWFyaW9Gb3JtQ29udHJhY3QiOw0KaW1wb3J0IHsgVXN1YXJpb0Zvcm1Db250cm9sbGVyIH0gZnJvbSAiLi4vLi4vY29udHJvbGxlcnMvQWNlc3Nvcy9Vc3VhcmlvRm9ybUNvbnRyb2xsZXIiOw0KDQpAQ29tcG9uZW50KHsNCiAgY29tcG9uZW50czogew0KICAgIEtMb2FkaW5nLA0KICAgIEtEaWFsb2csDQogICAgS0RhdGFMaXN0LA0KICB9LA0KfSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzdWFyaW9Gb3JtIGV4dGVuZHMgVnVlIGltcGxlbWVudHMgSVVzdWFyaW9Gb3JtVmlldyB7DQogIF9jb250cm9sbGVyPzogSVVzdWFyaW9Gb3JtQ29udHJvbGxlcjsNCg0KICBtYXNrQ1BGID0gIiMjIy4jIyMuIyMjLSMjIjsNCg0KICBpc01vYmlsZSA9IGZhbHNlOw0KDQogIGlzU3VjZXNzbyA9IGZhbHNlOw0KDQogIGRpYWxvZ0xvYWRpbmcgPSBmYWxzZTsNCiAgZGlhbG9nTWVzc2FnZSA9IGZhbHNlOw0KICB0ZXh0RXJyb3IgPSAiIjsNCg0KICBtYXRyaWN1bGEgPSAiIjsNCg0KICBwZXJmaXMgPSBbXTsNCg0KICBmdW5jaW9uYXJpbyA9IHsNCiAgICBtYXRyaWN1bGE6ICIiLA0KICAgIG5vbWU6ICIiLA0KICAgIHBpczogIiIsDQogICAgc2V0b3I6ICIiLA0KICAgIHRpcG86ICJOIiwNCiAgfTsNCg0KICB1c3VhcmlvID0gew0KICAgIGlkOiAwLA0KICAgIG1hdHJpY3VsYTogIiIsDQogICAgaWRGdW5jaW9uYXJpbzogMCwNCiAgICBpZFBlcmZpbDogMCwNCiAgfTsNCg0KICAvL1NOQUNLQkFSDQogIHNuYWNrYmFyID0gZmFsc2U7DQogIHRleHQgPSAiIjsNCiAgdmVydGljYWwgPSB0cnVlOw0KICBjb2xvciA9ICIiOw0KICBjb2xvckJvcmRlciA9ICIiOw0KDQogIGNhbWluaG8gPSBbDQogICAgew0KICAgICAgdGV4dDogIkhvbWUiLA0KICAgICAgZGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgaHJlZjogIi8iLA0KICAgIH0sDQogICAgew0KICAgICAgdGV4dDogIlVzdcOhcmlvcyIsDQogICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICBocmVmOiAiL3VzdWFyaW9zIiwNCiAgICB9LA0KICBdOw0KDQogIGZvcm1hdERhdGUoZGF0ZTogc3RyaW5nKSB7DQogICAgaWYgKCFkYXRlKSByZXR1cm4gbnVsbDsNCg0KICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGUuc3BsaXQoIi0iKTsNCiAgICByZXR1cm4gYCR7ZGF5fS8ke21vbnRofS8ke3llYXJ9YDsNCiAgfQ0KDQogIHBhcnNlRGF0ZShkYXRlOiBzdHJpbmcpIHsNCiAgICBpZiAoIWRhdGUpIHJldHVybiBudWxsOw0KICAgIGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IGRhdGUuc3BsaXQoIi8iKTsNCiAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aC5wYWRTdGFydCgyLCAiMCIpfS0ke2RheS5wYWRTdGFydCgyLCAiMCIpfWA7DQogIH0NCg0KICBsb2FkaW5nKHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHsNCiAgICB0aGlzLmRpYWxvZ0xvYWRpbmcgPSB2aXNpYmxlOw0KICB9DQoNCiAgZmVjaGFyRGlhbG9nTWVzc2FnZSgpIHsNCiAgICB0aGlzLmRpYWxvZ01lc3NhZ2UgPSBmYWxzZTsNCiAgICBpZiAodGhpcy5pc1N1Y2Vzc28pIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvdXN1YXJpb3MiKTsNCiAgICB9DQogIH0NCg0KICByZXRvcm5hTGlzdGFGdW5jaW9uYXJpb3MoKSB7DQogICAgdGhpcy4kcm91dGVyLnB1c2goIi91c3VhcmlvcyIpOw0KICB9DQoNCiAgc2hvd01zZyhtc2c6IHN0cmluZywgbW9kbzogbnVtYmVyKTogdm9pZCB7DQogICAgdGhpcy50ZXh0RXJyb3IgPSBtc2c7DQogICAgaWYgKG1vZG8gPT0gMSkgew0KICAgICAgdGhpcy5pc1N1Y2Vzc28gPSB0cnVlOw0KICAgIH0NCiAgICB0aGlzLmRpYWxvZ01lc3NhZ2UgPSB0cnVlOw0KICB9DQoNCiAgdmFsaWRhdGUoKSB7DQogICAgaWYgKHRoaXMudXN1YXJpby5pZFBlcmZpbCA9PSAwIHx8IHRoaXMudXN1YXJpby5pZFBlcmZpbCA9PSBudWxsKSB7DQogICAgICB0aGlzLmNvbG9yQm9yZGVyID0gImVycm9yIjsNCiAgICAgIHRoaXMuY29sb3IgPSAiZXJyb3IiOw0KICAgICAgdGhpcy50ZXh0ID0gIlNlbGVjaW9uZSB1bSBwZXJmaWwgcGFyYSBvIHVzdcOhcmlvLiI7DQogICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICByZXR1cm4gZmFsc2U7DQogIH0NCg0KICBjYXJyZWdhUGVyZmlzKGl0ZW06IGFueSkgew0KICAgIHRoaXMucGVyZmlzID0gaXRlbTsNCiAgfQ0KDQogIHNhdmVGdW5jaW9uYXJpb0xvY2FsKCkgew0KICAgIGlmICh0aGlzLnZhbGlkYXRlKCkpIHsNCiAgICB9IGVsc2Ugew0KICAgICAgLy90aGlzLnNvbGljaXRhY2FvLnVzZXIgPSBwYXJzZUludChTdG9yYWdlLmdldCgiVXNlciIpISk7DQogICAgICB0aGlzLl9jb250cm9sbGVyIS5zYWx2YXIodGhpcy51c3VhcmlvKTsNCiAgICB9DQogIH0NCg0KICB1cGRhdGVGdW5jaW9uYXJpbygpIHsNCiAgICBpZiAodGhpcy52YWxpZGF0ZSgpKSB7DQogICAgfSBlbHNlIHsNCiAgICAgIC8vdGhpcy5zb2xpY2l0YWNhby51c2VyID0gcGFyc2VJbnQoU3RvcmFnZS5nZXQoIlVzZXIiKSEpOw0KICAgICAgdGhpcy5fY29udHJvbGxlciEudXBkYXRlKHRoaXMudXN1YXJpby5pZC50b1N0cmluZygpLCB0aGlzLnVzdWFyaW8pOw0KICAgICAgLy90aGlzLnJldG9ybmFMaXN0YUZ1bmNpb25hcmlvcygpOw0KICAgIH0NCiAgfQ0KDQogIGNhcnJlZ2FyRHRvcygpOiB2b2lkIHsNCiAgICB0aGlzLnVzdWFyaW8uaWRGdW5jaW9uYXJpbyA9IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7DQogICAgdGhpcy51c3VhcmlvLm1hdHJpY3VsYSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5tYXRyaWN1bGE7DQoNCiAgICAvL2lmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWRQZXJmaWwgIT09IG51bGwgfHwgdGhpcy4kcm91dGUucGFyYW1zLmlkUGVyZmlsICE9PSB1bmRlZmluZWQpew0KICAgIC8vdGhpcy51c3VhcmlvLmlkUGVyZmlsID0gcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkUGVyZmlsKTsNCiAgICAvL2NvbnNvbGUubG9nKHRoaXMudXN1YXJpby5pZFBlcmZpbCkNCg0KICAgIC8vfQ0KICB9DQoNCiAgc2hvd1VzdWFyaW9Gb3JFZGl0YXIoaXRlbTogYW55KSB7DQogICAgLy9DQVJSRUdBTkRPIERBRE9TIERPIEZVTkNJT05BUklPDQogICAgdGhpcy5mdW5jaW9uYXJpbyA9IGl0ZW07DQogICAgdGhpcy51c3VhcmlvID0gaXRlbS51c3VhcmlvUGVyZmlsOw0KDQogICAgaWYgKHRoaXMuZnVuY2lvbmFyaW8udGlwbyA9PSAiRVhUIikgew0KICAgICAgdGhpcy5mdW5jaW9uYXJpby50aXBvID0gIkVYVEVSTk8iOw0KICAgIH0NCiAgfQ0KDQogIHNob3dVc3VhcmlvRm9yTm92byhpdGVtOiBhbnkpIHsNCiAgICAvL0NBUlJFR0FORE8gREFET1MgRE8gRlVOQ0lPTkFSSU8NCiAgICB0aGlzLmZ1bmNpb25hcmlvID0gaXRlbTsNCg0KICAgIGlmICh0aGlzLmZ1bmNpb25hcmlvLnRpcG8gPT0gIkVYVCIpIHsNCiAgICAgIHRoaXMuZnVuY2lvbmFyaW8udGlwbyA9ICJFWFRFUk5PIjsNCiAgICB9DQogIH0NCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuX2NvbnRyb2xsZXIgPSBuZXcgVXN1YXJpb0Zvcm1Db250cm9sbGVyKHRoaXMpOw0KICAgIHRoaXMuY2FycmVnYXJEdG9zKCk7DQogICAgdGhpcy5fY29udHJvbGxlci5jYXJyZWdhckR0b3MoDQogICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuaWRVc3VhcmlvUGVyZmlsLA0KICAgICAgdGhpcy4kcm91dGUucGFyYW1zLm1hdHJpY3VsYQ0KICAgICk7DQogICAgdGhpcy5pc01vYmlsZSA9IERpc3BsYXkuaXNNb2JpbGUoKTsNCiAgfQ0KfQ0K"},{"version":3,"sources":["UsuarioForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UsuarioForm.vue","sourceRoot":"src/views/Acessos","sourcesContent":["<template>\r\n  <v-content style=\"margin: 10px;\">\r\n    <v-snackbar v-model=\"snackbar\" :color=\"colorBorder\" shaped timeout=\"3000\" :vertical=\"vertical\">\r\n      <b>{{ text }}</b>\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn v-bind=\"attrs\" @click=\"snackbar = false\" icon dark small>\r\n          <v-icon>mdi-close</v-icon>\r\n        </v-btn>\r\n        <!-- <v-btn icon v-bind=\"attrs\" @click=\"snackbar = false\">mdi-magnify</v-btn> -->\r\n      </template>\r\n    </v-snackbar>\r\n\r\n    <k-loading title=\"Carregando\" :dialog=\"dialogLoading\"></k-loading>\r\n\r\n    <k-dialog\r\n      @fecharDialog=\"fecharDialogMessage\"\r\n      :dialog=\"dialogMessage\"\r\n      title=\"Mensagem\"\r\n      :text=\"textError\"\r\n    ></k-dialog>\r\n\r\n    <v-container>\r\n      <v-row>\r\n        <v-breadcrumbs style=\"margin-left: -10px\" :items=\"caminho\">\r\n          <template v-slot:divider>\r\n            <!-- <v-icon>mdi-home</v-icon> -->\r\n          </template>\r\n        </v-breadcrumbs>\r\n      </v-row>\r\n\r\n      <v-row ref=\"form\">\r\n        <v-col cols=\"12\" v-if=\"usuario.id == 0\">\r\n          <h3>\r\n            <b>Perfil do Usu치rio</b>\r\n          </h3>\r\n          <span>\r\n            <b>Dados do usu치rio e perfil do sistema</b>\r\n          </span>\r\n        </v-col>\r\n        <v-col cols=\"12\" v-if=\"usuario.id !== 0\">\r\n          <h3>\r\n            <b>Editar Perfil do Usu치rio</b>\r\n          </h3>\r\n          <span>\r\n            <b>Editando dados de perfil do usu치rio no sistema</b>\r\n          </span>\r\n        </v-col>\r\n        <v-row>\r\n          <v-col cols=\"12\" sm=\"12\">\r\n            <v-card flat>\r\n              <v-card-text>\r\n                <v-row>\r\n                  <v-col cols=\"12\" sm=\"2\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.matricula\"\r\n                      label=\"Matr칤cula\"\r\n                      dense\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"7\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.nome\"\r\n                      label=\"Nome Completo\"\r\n                      dense\r\n                      required\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"3\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.cpf\"\r\n                      label=\"CPF\"\r\n                      dense\r\n                      v-mask=\"maskCPF\"\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\" sm=\"6\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.setor\"\r\n                      label=\"Departamento\"\r\n                      dense\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"6\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.tipo\"\r\n                      label=\"Tipo de Funcion치rio\"\r\n                      dense\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row style=\"margin-top: -10px\">\r\n                  <v-col cols=\"12\" sm=\"4\">\r\n                    <span>\r\n                      <b>Perfis</b>\r\n                    </span>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\" sm=\"12\">\r\n                    <v-col cols=\"12\" sm=\"12\" style=\"margin-top: -45px\">\r\n                      <v-radio-group v-model=\"usuario.idPerfil\" row>\r\n                        <v-col v-for=\"(item, index) in perfis\" :key=\"index\" cols=\"12\" sm=\"4\">\r\n                          <v-radio :label=\"item.perfil\" :value=\"item.id\"></v-radio>\r\n                        </v-col>\r\n                      </v-radio-group>\r\n                    </v-col>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n          <v-col cols=\"12\" sm=\"12\">\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                color=\"orange lighten-1\"\r\n                @click=\"retornaListaFuncionarios()\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n              >Cancelar</v-btn>\r\n\r\n              <v-btn\r\n                v-if=\"!isMobile && usuario.id != 0\"\r\n                color=\"orange darken-1\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n                @click=\"updateFuncionario()\"\r\n              >Salvar</v-btn>\r\n\r\n              <v-btn\r\n                v-if=\"!isMobile && usuario.id == 0\"\r\n                color=\"orange darken-1\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n                @click=\"saveFuncionarioLocal()\"\r\n              >Salvar</v-btn>\r\n\r\n              <v-btn\r\n                v-else-if=\"isMobile && usuario.id == 0\"\r\n                color=\"orange darken-1\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n                @click=\"saveFuncionarioLocal()\"\r\n              >Salvar</v-btn>\r\n            </v-card-actions>\r\n          </v-col>\r\n        </v-row>\r\n      </v-row>\r\n    </v-container>\r\n  </v-content>\r\n</template> \r\n\r\n\r\n\r\n<script lang=\"ts\">\r\nimport Vue from \"vue\";\r\n\r\nimport KLoading from \"../../components/KLoading.vue\";\r\nimport KDialog from \"../../components/KDialog.vue\";\r\nimport KDataList from \"../../components/KDataList.vue\";\r\n\r\nimport Component from \"vue-class-component\";\r\nimport { Watch } from \"vue-property-decorator\";\r\n\r\nimport { Display } from \"../../configuration/display\";\r\nimport { Storage } from \"../../configuration/storage\";\r\n\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\nimport {\r\n  IUsuarioFormView,\r\n  IUsuarioFormController,\r\n} from \"../../contracts/Acessos/UsuarioFormContract\";\r\nimport { UsuarioFormController } from \"../../controllers/Acessos/UsuarioFormController\";\r\n\r\n@Component({\r\n  components: {\r\n    KLoading,\r\n    KDialog,\r\n    KDataList,\r\n  },\r\n})\r\nexport default class UsuarioForm extends Vue implements IUsuarioFormView {\r\n  _controller?: IUsuarioFormController;\r\n\r\n  maskCPF = \"###.###.###-##\";\r\n\r\n  isMobile = false;\r\n\r\n  isSucesso = false;\r\n\r\n  dialogLoading = false;\r\n  dialogMessage = false;\r\n  textError = \"\";\r\n\r\n  matricula = \"\";\r\n\r\n  perfis = [];\r\n\r\n  funcionario = {\r\n    matricula: \"\",\r\n    nome: \"\",\r\n    pis: \"\",\r\n    setor: \"\",\r\n    tipo: \"N\",\r\n  };\r\n\r\n  usuario = {\r\n    id: 0,\r\n    matricula: \"\",\r\n    idFuncionario: 0,\r\n    idPerfil: 0,\r\n  };\r\n\r\n  //SNACKBAR\r\n  snackbar = false;\r\n  text = \"\";\r\n  vertical = true;\r\n  color = \"\";\r\n  colorBorder = \"\";\r\n\r\n  caminho = [\r\n    {\r\n      text: \"Home\",\r\n      disabled: false,\r\n      href: \"/\",\r\n    },\r\n    {\r\n      text: \"Usu치rios\",\r\n      disabled: false,\r\n      href: \"/usuarios\",\r\n    },\r\n  ];\r\n\r\n  formatDate(date: string) {\r\n    if (!date) return null;\r\n\r\n    const [year, month, day] = date.split(\"-\");\r\n    return `${day}/${month}/${year}`;\r\n  }\r\n\r\n  parseDate(date: string) {\r\n    if (!date) return null;\r\n    const [day, month, year] = date.split(\"/\");\r\n    return `${year}-${month.padStart(2, \"0\")}-${day.padStart(2, \"0\")}`;\r\n  }\r\n\r\n  loading(visible: boolean): void {\r\n    this.dialogLoading = visible;\r\n  }\r\n\r\n  fecharDialogMessage() {\r\n    this.dialogMessage = false;\r\n    if (this.isSucesso) {\r\n      this.$router.push(\"/usuarios\");\r\n    }\r\n  }\r\n\r\n  retornaListaFuncionarios() {\r\n    this.$router.push(\"/usuarios\");\r\n  }\r\n\r\n  showMsg(msg: string, modo: number): void {\r\n    this.textError = msg;\r\n    if (modo == 1) {\r\n      this.isSucesso = true;\r\n    }\r\n    this.dialogMessage = true;\r\n  }\r\n\r\n  validate() {\r\n    if (this.usuario.idPerfil == 0 || this.usuario.idPerfil == null) {\r\n      this.colorBorder = \"error\";\r\n      this.color = \"error\";\r\n      this.text = \"Selecione um perfil para o usu치rio.\";\r\n      this.snackbar = true;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  carregaPerfis(item: any) {\r\n    this.perfis = item;\r\n  }\r\n\r\n  saveFuncionarioLocal() {\r\n    if (this.validate()) {\r\n    } else {\r\n      //this.solicitacao.user = parseInt(Storage.get(\"User\")!);\r\n      this._controller!.salvar(this.usuario);\r\n    }\r\n  }\r\n\r\n  updateFuncionario() {\r\n    if (this.validate()) {\r\n    } else {\r\n      //this.solicitacao.user = parseInt(Storage.get(\"User\")!);\r\n      this._controller!.update(this.usuario.id.toString(), this.usuario);\r\n      //this.retornaListaFuncionarios();\r\n    }\r\n  }\r\n\r\n  carregarDtos(): void {\r\n    this.usuario.idFuncionario = parseInt(this.$route.params.id);\r\n    this.usuario.matricula = this.$route.params.matricula;\r\n\r\n    //if (this.$route.params.idPerfil !== null || this.$route.params.idPerfil !== undefined){\r\n    //this.usuario.idPerfil = parseInt(this.$route.params.idPerfil);\r\n    //console.log(this.usuario.idPerfil)\r\n\r\n    //}\r\n  }\r\n\r\n  showUsuarioForEditar(item: any) {\r\n    //CARREGANDO DADOS DO FUNCIONARIO\r\n    this.funcionario = item;\r\n    this.usuario = item.usuarioPerfil;\r\n\r\n    if (this.funcionario.tipo == \"EXT\") {\r\n      this.funcionario.tipo = \"EXTERNO\";\r\n    }\r\n  }\r\n\r\n  showUsuarioForNovo(item: any) {\r\n    //CARREGANDO DADOS DO FUNCIONARIO\r\n    this.funcionario = item;\r\n\r\n    if (this.funcionario.tipo == \"EXT\") {\r\n      this.funcionario.tipo = \"EXTERNO\";\r\n    }\r\n  }\r\n\r\n  created() {\r\n    this._controller = new UsuarioFormController(this);\r\n    this.carregarDtos();\r\n    this._controller.carregarDtos(\r\n      this.$route.params.idUsuarioPerfil,\r\n      this.$route.params.matricula\r\n    );\r\n    this.isMobile = Display.isMobile();\r\n  }\r\n}\r\n</script> "]}]}