{"remainingRequest":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\wamp64\\www\\smartpoint\\smartpoint\\src\\views\\Acessos\\UsuarioForm.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\src\\views\\Acessos\\UsuarioForm.vue","mtime":1608501967926},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOw0KDQppbXBvcnQgS0xvYWRpbmcgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9LTG9hZGluZy52dWUiOw0KaW1wb3J0IEtEaWFsb2cgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9LRGlhbG9nLnZ1ZSI7DQppbXBvcnQgS0RhdGFMaXN0IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvS0RhdGFMaXN0LnZ1ZSI7DQoNCmltcG9ydCBDb21wb25lbnQgZnJvbSAidnVlLWNsYXNzLWNvbXBvbmVudCI7DQppbXBvcnQgeyBXYXRjaCB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOw0KDQppbXBvcnQgeyBEaXNwbGF5IH0gZnJvbSAiLi4vLi4vY29uZmlndXJhdGlvbi9kaXNwbGF5IjsNCmltcG9ydCB7IFN0b3JhZ2UgfSBmcm9tICIuLi8uLi9jb25maWd1cmF0aW9uL3N0b3JhZ2UiOw0KDQppbXBvcnQgeyBIZWFkZXIsIEhlYWRlckljb24sIEhlYWRlckFjdGlvbiB9IGZyb20gIi4uLy4uL21vZGVscy9oZWFkZXIiOw0KaW1wb3J0IHsgSGVhZGVycyB9IGZyb20gIi4uLy4uL21vZGVscy9oZWFkZXJzIjsNCg0KaW1wb3J0IHsNCiAgSVVzdWFyaW9Gb3JtVmlldywNCiAgSVVzdWFyaW9Gb3JtQ29udHJvbGxlciwNCn0gZnJvbSAiLi4vLi4vY29udHJhY3RzL0FjZXNzb3MvVXN1YXJpb0Zvcm1Db250cmFjdCI7DQppbXBvcnQgeyBVc3VhcmlvRm9ybUNvbnRyb2xsZXIgfSBmcm9tICIuLi8uLi9jb250cm9sbGVycy9BY2Vzc29zL1VzdWFyaW9Gb3JtQ29udHJvbGxlciI7DQoNCkBDb21wb25lbnQoew0KICBjb21wb25lbnRzOiB7DQogICAgS0xvYWRpbmcsDQogICAgS0RpYWxvZywNCiAgICBLRGF0YUxpc3QsDQogIH0sDQp9KQ0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXN1YXJpb0Zvcm0gZXh0ZW5kcyBWdWUgaW1wbGVtZW50cyBJVXN1YXJpb0Zvcm1WaWV3IHsNCiAgX2NvbnRyb2xsZXI/OiBJVXN1YXJpb0Zvcm1Db250cm9sbGVyOw0KDQogIG1hc2tDUEYgPSAiIyMjLiMjIy4jIyMtIyMiOw0KDQogIGlzTW9iaWxlID0gZmFsc2U7DQoNCiAgaXNTdWNlc3NvID0gZmFsc2U7DQoNCiAgZGlhbG9nTG9hZGluZyA9IGZhbHNlOw0KICBkaWFsb2dNZXNzYWdlID0gZmFsc2U7DQogIHRleHRFcnJvciA9ICIiOw0KDQogIG1hdHJpY3VsYSA9ICIiOw0KDQogIHBlcmZpcyA9IFtdOw0KDQogIGZ1bmNpb25hcmlvID0gew0KICAgIG1hdHJpY3VsYTogIiIsDQogICAgbm9tZTogIiIsDQogICAgcGlzOiAiIiwNCiAgICBzZXRvcjogIiIsDQogICAgdGlwbzogIk4iLA0KICB9Ow0KDQogIHVzdWFyaW8gPSB7DQogICAgaWQ6IDAsDQogICAgbWF0cmljdWxhOiAiIiwNCiAgICBpZEZ1bmNpb25hcmlvOiAwLA0KICAgIGlkUGVyZmlsOiAwLA0KICB9Ow0KDQogIC8vU05BQ0tCQVINCiAgc25hY2tiYXIgPSBmYWxzZTsNCiAgdGV4dCA9ICIiOw0KICB2ZXJ0aWNhbCA9IHRydWU7DQogIGNvbG9yID0gIiI7DQogIGNvbG9yQm9yZGVyID0gIiI7DQoNCiAgY2FtaW5obyA9IFsNCiAgICB7DQogICAgICB0ZXh0OiAiSG9tZSIsDQogICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICBocmVmOiAiLyIsDQogICAgfSwNCiAgICB7DQogICAgICB0ZXh0OiAiVXN1w6FyaW9zIiwNCiAgICAgIGRpc2FibGVkOiBmYWxzZSwNCiAgICAgIGhyZWY6ICIvdXN1YXJpb3MiLA0KICAgIH0sDQogIF07DQoNCiAgZm9ybWF0RGF0ZShkYXRlOiBzdHJpbmcpIHsNCiAgICBpZiAoIWRhdGUpIHJldHVybiBudWxsOw0KDQogICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXldID0gZGF0ZS5zcGxpdCgiLSIpOw0KICAgIHJldHVybiBgJHtkYXl9LyR7bW9udGh9LyR7eWVhcn1gOw0KICB9DQoNCiAgcGFyc2VEYXRlKGRhdGU6IHN0cmluZykgew0KICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7DQogICAgY29uc3QgW2RheSwgbW9udGgsIHllYXJdID0gZGF0ZS5zcGxpdCgiLyIpOw0KICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRoLnBhZFN0YXJ0KDIsICIwIil9LSR7ZGF5LnBhZFN0YXJ0KDIsICIwIil9YDsNCiAgfQ0KDQogIGxvYWRpbmcodmlzaWJsZTogYm9vbGVhbik6IHZvaWQgew0KICAgIHRoaXMuZGlhbG9nTG9hZGluZyA9IHZpc2libGU7DQogIH0NCg0KICBmZWNoYXJEaWFsb2dNZXNzYWdlKCkgew0KICAgIHRoaXMuZGlhbG9nTWVzc2FnZSA9IGZhbHNlOw0KICAgIGlmICh0aGlzLmlzU3VjZXNzbykgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi91c3VhcmlvcyIpOw0KICAgIH0NCiAgfQ0KDQogIHJldG9ybmFMaXN0YUZ1bmNpb25hcmlvcygpIHsNCiAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3VzdWFyaW9zIik7DQogIH0NCg0KICBzaG93TXNnKG1zZzogc3RyaW5nLCBtb2RvOiBudW1iZXIpOiB2b2lkIHsNCiAgICB0aGlzLnRleHRFcnJvciA9IG1zZzsNCiAgICBpZiAobW9kbyA9PSAxKSB7DQogICAgICB0aGlzLmlzU3VjZXNzbyA9IHRydWU7DQogICAgfQ0KICAgIHRoaXMuZGlhbG9nTWVzc2FnZSA9IHRydWU7DQogIH0NCg0KICB2YWxpZGF0ZSgpIHsNCiAgICBpZiAodGhpcy51c3VhcmlvLmlkUGVyZmlsID09IDAgfHwgdGhpcy51c3VhcmlvLmlkUGVyZmlsID09IG51bGwpIHsNCiAgICAgIHRoaXMuY29sb3JCb3JkZXIgPSAiZXJyb3IiOw0KICAgICAgdGhpcy5jb2xvciA9ICJlcnJvciI7DQogICAgICB0aGlzLnRleHQgPSAiU2VsZWNpb25lIHVtIHBlcmZpbCBwYXJhIG8gdXN1w6FyaW8uIjsNCiAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOw0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICAgIHJldHVybiBmYWxzZTsNCiAgfQ0KDQogIGNhcnJlZ2FQZXJmaXMoaXRlbTogYW55KSB7DQogICAgdGhpcy5wZXJmaXMgPSBpdGVtOw0KICB9DQoNCiAgc2F2ZUZ1bmNpb25hcmlvTG9jYWwoKSB7DQogICAgaWYgKHRoaXMudmFsaWRhdGUoKSkgew0KICAgIH0gZWxzZSB7DQogICAgICAvL3RoaXMuc29saWNpdGFjYW8udXNlciA9IHBhcnNlSW50KFN0b3JhZ2UuZ2V0KCJVc2VyIikhKTsNCiAgICAgIHRoaXMuX2NvbnRyb2xsZXIhLnNhbHZhcih0aGlzLnVzdWFyaW8pOw0KICAgIH0NCiAgfQ0KDQogIHVwZGF0ZUZ1bmNpb25hcmlvKCkgew0KICAgIGlmICh0aGlzLnZhbGlkYXRlKCkpIHsNCiAgICB9IGVsc2Ugew0KICAgICAgLy90aGlzLnNvbGljaXRhY2FvLnVzZXIgPSBwYXJzZUludChTdG9yYWdlLmdldCgiVXNlciIpISk7DQogICAgICB0aGlzLl9jb250cm9sbGVyIS51cGRhdGUodGhpcy51c3VhcmlvLmlkLnRvU3RyaW5nKCksIHRoaXMudXN1YXJpbyk7DQogICAgICAvL3RoaXMucmV0b3JuYUxpc3RhRnVuY2lvbmFyaW9zKCk7DQogICAgfQ0KICB9DQoNCiAgY2FycmVnYXJEdG9zKCk6IHZvaWQgew0KICAgIHRoaXMudXN1YXJpby5pZEZ1bmNpb25hcmlvID0gcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKTsNCiAgICB0aGlzLnVzdWFyaW8ubWF0cmljdWxhID0gdGhpcy4kcm91dGUucGFyYW1zLm1hdHJpY3VsYTsNCg0KICAgIC8vaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZFBlcmZpbCAhPT0gbnVsbCB8fCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWRQZXJmaWwgIT09IHVuZGVmaW5lZCl7DQogICAgLy90aGlzLnVzdWFyaW8uaWRQZXJmaWwgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWRQZXJmaWwpOw0KICAgIC8vY29uc29sZS5sb2codGhpcy51c3VhcmlvLmlkUGVyZmlsKQ0KDQogICAgLy99DQogIH0NCg0KICBzaG93VXN1YXJpb0ZvckVkaXRhcihpdGVtOiBhbnkpIHsNCiAgICAvL0NBUlJFR0FORE8gREFET1MgRE8gRlVOQ0lPTkFSSU8NCiAgICB0aGlzLmZ1bmNpb25hcmlvID0gaXRlbTsNCiAgICB0aGlzLnVzdWFyaW8gPSBpdGVtLnVzdWFyaW9QZXJmaWw7DQoNCiAgICBpZiAodGhpcy5mdW5jaW9uYXJpby50aXBvID09ICJFWFQiKSB7DQogICAgICB0aGlzLmZ1bmNpb25hcmlvLnRpcG8gPSAiRVhURVJOTyI7DQogICAgfQ0KICB9DQoNCiAgc2hvd1VzdWFyaW9Gb3JOb3ZvKGl0ZW06IGFueSkgew0KICAgIC8vQ0FSUkVHQU5ETyBEQURPUyBETyBGVU5DSU9OQVJJTw0KICAgIHRoaXMuZnVuY2lvbmFyaW8gPSBpdGVtOw0KDQogICAgaWYgKHRoaXMuZnVuY2lvbmFyaW8udGlwbyA9PSAiRVhUIikgew0KICAgICAgdGhpcy5mdW5jaW9uYXJpby50aXBvID0gIkVYVEVSTk8iOw0KICAgIH0NCiAgfQ0KDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBVc3VhcmlvRm9ybUNvbnRyb2xsZXIodGhpcyk7DQogICAgdGhpcy5jYXJyZWdhckR0b3MoKTsNCiAgICB0aGlzLl9jb250cm9sbGVyLmNhcnJlZ2FyRHRvcygNCiAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcy5pZFVzdWFyaW9QZXJmaWwsDQogICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMubWF0cmljdWxhDQogICAgKTsNCiAgICB0aGlzLmlzTW9iaWxlID0gRGlzcGxheS5pc01vYmlsZSgpOw0KICB9DQp9DQo="},{"version":3,"sources":["UsuarioForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UsuarioForm.vue","sourceRoot":"src/views/Acessos","sourcesContent":["<template>\r\n  <v-content style=\"margin: 10px;\">\r\n    <v-snackbar v-model=\"snackbar\" :color=\"colorBorder\" shaped timeout=\"3000\" :vertical=\"vertical\">\r\n      <b>{{ text }}</b>\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn v-bind=\"attrs\" @click=\"snackbar = false\" icon dark small>\r\n          <v-icon>mdi-close</v-icon>\r\n        </v-btn>\r\n        <!-- <v-btn icon v-bind=\"attrs\" @click=\"snackbar = false\">mdi-magnify</v-btn> -->\r\n      </template>\r\n    </v-snackbar>\r\n\r\n    <k-loading title=\"Carregando\" :dialog=\"dialogLoading\"></k-loading>\r\n\r\n    <k-dialog\r\n      @fecharDialog=\"fecharDialogMessage\"\r\n      :dialog=\"dialogMessage\"\r\n      title=\"Mensagem\"\r\n      :text=\"textError\"\r\n    ></k-dialog>\r\n\r\n    <v-container>\r\n      <v-row>\r\n        <v-breadcrumbs style=\"margin-left: -10px;\" :items=\"caminho\">\r\n          <template v-slot:divider>\r\n            <!-- <v-icon>mdi-home</v-icon> -->\r\n          </template>\r\n          <template v-slot:item=\"{item}\">\r\n            <router-link :to=\"item.href\">\r\n              {{item.text}}\r\n            </router-link>\r\n          </template>\r\n        </v-breadcrumbs>\r\n      </v-row>\r\n\r\n      <v-row ref=\"form\">\r\n        <v-col cols=\"12\" v-if=\"usuario.id == 0\">\r\n          <h3>\r\n            <b>Perfil do Usuário</b>\r\n          </h3>\r\n          <span>\r\n            <b>Dados do usuário e perfil do sistema</b>\r\n          </span>\r\n        </v-col>\r\n        <v-col cols=\"12\" v-if=\"usuario.id !== 0\">\r\n          <h3>\r\n            <b>Editar Perfil do Usuário</b>\r\n          </h3>\r\n          <span>\r\n            <b>Editando dados de perfil do usuário no sistema</b>\r\n          </span>\r\n        </v-col>\r\n        <v-row>\r\n          <v-col cols=\"12\" sm=\"12\">\r\n            <v-card flat>\r\n              <v-card-text>\r\n                <v-row>\r\n                  <v-col cols=\"12\" sm=\"2\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.matricula\"\r\n                      label=\"Matrícula\"\r\n                      dense\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"7\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.nome\"\r\n                      label=\"Nome Completo\"\r\n                      dense\r\n                      required\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"3\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.cpf\"\r\n                      label=\"CPF\"\r\n                      dense\r\n                      v-mask=\"maskCPF\"\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\" sm=\"6\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.setor\"\r\n                      label=\"Departamento\"\r\n                      dense\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"6\">\r\n                    <v-text-field\r\n                      outlined\r\n                      v-model=\"funcionario.tipo\"\r\n                      label=\"Tipo de Funcionário\"\r\n                      dense\r\n                      disabled\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row style=\"margin-top: -10px\">\r\n                  <v-col cols=\"12\" sm=\"4\">\r\n                    <span>\r\n                      <b>Perfis</b>\r\n                    </span>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\" sm=\"12\">\r\n                    <v-col cols=\"12\" sm=\"12\" style=\"margin-top: -45px\">\r\n                      <v-radio-group v-model=\"usuario.idPerfil\" row>\r\n                        <v-col v-for=\"(item, index) in perfis\" :key=\"index\" cols=\"12\" sm=\"4\">\r\n                          <v-radio :label=\"item.perfil\" :value=\"item.id\"></v-radio>\r\n                        </v-col>\r\n                      </v-radio-group>\r\n                    </v-col>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n          <v-col cols=\"12\" sm=\"12\">\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                color=\"orange lighten-1\"\r\n                @click=\"retornaListaFuncionarios()\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n              >Cancelar</v-btn>\r\n\r\n              <v-btn\r\n                v-if=\"!isMobile && usuario.id != 0\"\r\n                color=\"orange darken-1\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n                @click=\"updateFuncionario()\"\r\n              >Salvar</v-btn>\r\n\r\n              <v-btn\r\n                v-if=\"!isMobile && usuario.id == 0\"\r\n                color=\"orange darken-1\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n                @click=\"saveFuncionarioLocal()\"\r\n              >Salvar</v-btn>\r\n\r\n              <v-btn\r\n                v-else-if=\"isMobile && usuario.id == 0\"\r\n                color=\"orange darken-1\"\r\n                large\r\n                dark\r\n                width=\"150\"\r\n                @click=\"saveFuncionarioLocal()\"\r\n              >Salvar</v-btn>\r\n            </v-card-actions>\r\n          </v-col>\r\n        </v-row>\r\n      </v-row>\r\n    </v-container>\r\n  </v-content>\r\n</template> \r\n\r\n\r\n\r\n<script lang=\"ts\">\r\nimport Vue from \"vue\";\r\n\r\nimport KLoading from \"../../components/KLoading.vue\";\r\nimport KDialog from \"../../components/KDialog.vue\";\r\nimport KDataList from \"../../components/KDataList.vue\";\r\n\r\nimport Component from \"vue-class-component\";\r\nimport { Watch } from \"vue-property-decorator\";\r\n\r\nimport { Display } from \"../../configuration/display\";\r\nimport { Storage } from \"../../configuration/storage\";\r\n\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\nimport {\r\n  IUsuarioFormView,\r\n  IUsuarioFormController,\r\n} from \"../../contracts/Acessos/UsuarioFormContract\";\r\nimport { UsuarioFormController } from \"../../controllers/Acessos/UsuarioFormController\";\r\n\r\n@Component({\r\n  components: {\r\n    KLoading,\r\n    KDialog,\r\n    KDataList,\r\n  },\r\n})\r\nexport default class UsuarioForm extends Vue implements IUsuarioFormView {\r\n  _controller?: IUsuarioFormController;\r\n\r\n  maskCPF = \"###.###.###-##\";\r\n\r\n  isMobile = false;\r\n\r\n  isSucesso = false;\r\n\r\n  dialogLoading = false;\r\n  dialogMessage = false;\r\n  textError = \"\";\r\n\r\n  matricula = \"\";\r\n\r\n  perfis = [];\r\n\r\n  funcionario = {\r\n    matricula: \"\",\r\n    nome: \"\",\r\n    pis: \"\",\r\n    setor: \"\",\r\n    tipo: \"N\",\r\n  };\r\n\r\n  usuario = {\r\n    id: 0,\r\n    matricula: \"\",\r\n    idFuncionario: 0,\r\n    idPerfil: 0,\r\n  };\r\n\r\n  //SNACKBAR\r\n  snackbar = false;\r\n  text = \"\";\r\n  vertical = true;\r\n  color = \"\";\r\n  colorBorder = \"\";\r\n\r\n  caminho = [\r\n    {\r\n      text: \"Home\",\r\n      disabled: false,\r\n      href: \"/\",\r\n    },\r\n    {\r\n      text: \"Usuários\",\r\n      disabled: false,\r\n      href: \"/usuarios\",\r\n    },\r\n  ];\r\n\r\n  formatDate(date: string) {\r\n    if (!date) return null;\r\n\r\n    const [year, month, day] = date.split(\"-\");\r\n    return `${day}/${month}/${year}`;\r\n  }\r\n\r\n  parseDate(date: string) {\r\n    if (!date) return null;\r\n    const [day, month, year] = date.split(\"/\");\r\n    return `${year}-${month.padStart(2, \"0\")}-${day.padStart(2, \"0\")}`;\r\n  }\r\n\r\n  loading(visible: boolean): void {\r\n    this.dialogLoading = visible;\r\n  }\r\n\r\n  fecharDialogMessage() {\r\n    this.dialogMessage = false;\r\n    if (this.isSucesso) {\r\n      this.$router.push(\"/usuarios\");\r\n    }\r\n  }\r\n\r\n  retornaListaFuncionarios() {\r\n    this.$router.push(\"/usuarios\");\r\n  }\r\n\r\n  showMsg(msg: string, modo: number): void {\r\n    this.textError = msg;\r\n    if (modo == 1) {\r\n      this.isSucesso = true;\r\n    }\r\n    this.dialogMessage = true;\r\n  }\r\n\r\n  validate() {\r\n    if (this.usuario.idPerfil == 0 || this.usuario.idPerfil == null) {\r\n      this.colorBorder = \"error\";\r\n      this.color = \"error\";\r\n      this.text = \"Selecione um perfil para o usuário.\";\r\n      this.snackbar = true;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  carregaPerfis(item: any) {\r\n    this.perfis = item;\r\n  }\r\n\r\n  saveFuncionarioLocal() {\r\n    if (this.validate()) {\r\n    } else {\r\n      //this.solicitacao.user = parseInt(Storage.get(\"User\")!);\r\n      this._controller!.salvar(this.usuario);\r\n    }\r\n  }\r\n\r\n  updateFuncionario() {\r\n    if (this.validate()) {\r\n    } else {\r\n      //this.solicitacao.user = parseInt(Storage.get(\"User\")!);\r\n      this._controller!.update(this.usuario.id.toString(), this.usuario);\r\n      //this.retornaListaFuncionarios();\r\n    }\r\n  }\r\n\r\n  carregarDtos(): void {\r\n    this.usuario.idFuncionario = parseInt(this.$route.params.id);\r\n    this.usuario.matricula = this.$route.params.matricula;\r\n\r\n    //if (this.$route.params.idPerfil !== null || this.$route.params.idPerfil !== undefined){\r\n    //this.usuario.idPerfil = parseInt(this.$route.params.idPerfil);\r\n    //console.log(this.usuario.idPerfil)\r\n\r\n    //}\r\n  }\r\n\r\n  showUsuarioForEditar(item: any) {\r\n    //CARREGANDO DADOS DO FUNCIONARIO\r\n    this.funcionario = item;\r\n    this.usuario = item.usuarioPerfil;\r\n\r\n    if (this.funcionario.tipo == \"EXT\") {\r\n      this.funcionario.tipo = \"EXTERNO\";\r\n    }\r\n  }\r\n\r\n  showUsuarioForNovo(item: any) {\r\n    //CARREGANDO DADOS DO FUNCIONARIO\r\n    this.funcionario = item;\r\n\r\n    if (this.funcionario.tipo == \"EXT\") {\r\n      this.funcionario.tipo = \"EXTERNO\";\r\n    }\r\n  }\r\n\r\n  created() {\r\n    this._controller = new UsuarioFormController(this);\r\n    this.carregarDtos();\r\n    this._controller.carregarDtos(\r\n      this.$route.params.idUsuarioPerfil,\r\n      this.$route.params.matricula\r\n    );\r\n    this.isMobile = Display.isMobile();\r\n  }\r\n}\r\n</script> "]}]}