{"remainingRequest":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Absenteismo\\AbsenteismoConfiguracaoFormController.ts","dependencies":[{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Absenteismo\\AbsenteismoConfiguracaoFormController.ts","mtime":1615206708679},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL3BsdWdpbnMvYXhpb3MiOwppbXBvcnQgeyBIZWFkZXJBY3Rpb24gfSBmcm9tICIuLi8uLi9tb2RlbHMvaGVhZGVyIjsKZXhwb3J0IHZhciBBYnNlbnRlaXNtb0NvbmZpZ3VyYWNhb0Zvcm1Db250cm9sbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBBYnNlbnRlaXNtb0NvbmZpZ3VyYWNhb0Zvcm1Db250cm9sbGVyKHZpZXcpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBYnNlbnRlaXNtb0NvbmZpZ3VyYWNhb0Zvcm1Db250cm9sbGVyKTsKCiAgICB0aGlzLl9saXN0YSA9IFt7CiAgICAgIG51bWVybzogIiIsCiAgICAgIHByb2R1dG86ICIiLAogICAgICBkZXNjcmljYW86ICIiLAogICAgICBxdWFudGlkYWRlOiAiIiwKICAgICAgZGF0YU5lY2Vzc2lkYWRlOiAiIiwKICAgICAgdW06ICIiLAogICAgICBqdXN0aWZpY2F0aXZhOiAiIiwKICAgICAgYWNhbzogW25ldyBIZWFkZXJBY3Rpb24oIiIsICIiLCAiIiwgIiIsICIiKV0KICAgIH1dOwogICAgdGhpcy5fdmlldyA9IHZpZXc7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQWJzZW50ZWlzbW9Db25maWd1cmFjYW9Gb3JtQ29udHJvbGxlciwgW3sKICAgIGtleTogImNhcnJlZ2FySXRlbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhcnJlZ2FySXRlbnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5nZXQoJ0Fic2VudGVpc21vQ29uZmlndXJhY2FvJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PSAnQScpIHsKICAgICAgICAgICAgZWxlbWVudC5hY29lcyA9IFtuZXcgSGVhZGVyQWN0aW9uKCJtZGktY2FuY2VsIiwgInByaW1hcnkiLCAiVGVzdGUiLCAiZGVsZXRlSXRlbSIsICIyMDBweCIpXTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT0gJ0knKSB7CiAgICAgICAgICAgIGVsZW1lbnQuYWNvZXMgPSBbbmV3IEhlYWRlckFjdGlvbigibWRpLWNhbmNlbCIsICJlcnJvciIsICJUZXN0ZSIsICJlZGl0YXJJdGVtIiwgIjIwMHB4IildOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5fdmlldy5saW1wYXJDYW1wb3MoKTsKCiAgICAgICAgX3RoaXMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgIF90aGlzLl92aWV3LnNob3dJdGVucyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMuX3ZpZXcuc2hvd01zZyhlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2FsdmFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYWx2YXIoY29uZmlndXJhY2FvKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKHRydWUpOwoKICAgICAgYXhpb3MucG9zdCgiQWJzZW50ZWlzbW9Db25maWd1cmFjYW8iLCBjb25maWd1cmFjYW8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNlc3NvKSB7CiAgICAgICAgICBfdGhpczIuX3ZpZXcuc2hvd01zZyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgIF90aGlzMi5jYXJyZWdhckl0ZW5zKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5fdmlldy5zaG93TXNnKCJOw6NvIGZvaSBwb3Nzw612ZWwgc2FsdmFyIG9zIGRhZG9zIGRvIHRpcG8gZGUgYWJzZW50ZcOtc21vIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMyLl92aWV3LnNob3dNc2coZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImRlbGV0ZWl0ZW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZWl0ZW0oaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5kZWxldGUoJ0Fic2VudGVpc21vQ29uZmlndXJhY2FvLycgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Vzc28pIHsKICAgICAgICAgIC8vIHRoaXMuX3ZpZXcuc2hvd01zZygiU2Fsdm8gY29tIHN1Y2Vzc28uIikKICAgICAgICAgIF90aGlzMy5fdmlldy5zaG93TXNnKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CgogICAgICAgICAgX3RoaXMzLmNhcnJlZ2FySXRlbnMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLl92aWV3LnNob3dNc2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBfdGhpczMuX3ZpZXcuc2hvd01zZyhlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXRpdmFyaXRlbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXRpdmFyaXRlbShpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuX3ZpZXcubG9hZGluZyh0cnVlKTsKCiAgICAgIGF4aW9zLnB1dCgnQWJzZW50ZWlzbW9Db25maWd1cmFjYW8vJyArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNC5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjZXNzbykgewogICAgICAgICAgLy8gdGhpcy5fdmlldy5zaG93TXNnKCJTYWx2byBjb20gc3VjZXNzby4iKQogICAgICAgICAgX3RoaXM0Ll92aWV3LnNob3dNc2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICBfdGhpczQuY2FycmVnYXJJdGVucygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuX3ZpZXcuc2hvd01zZyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczQuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgIF90aGlzNC5fdmlldy5zaG93TXNnKGUpOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBYnNlbnRlaXNtb0NvbmZpZ3VyYWNhb0Zvcm1Db250cm9sbGVyOwp9KCk7"},{"version":3,"sources":["C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Absenteismo\\AbsenteismoConfiguracaoFormController.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  IAbsenteismoConfiguracaoFormView,\r\n  IAbsenteismoConfiguracaoFormController,\r\n} from \"../../contracts/Absenteismo/AbsenteismoConfiguracaoFormContract\";\r\nimport axios from \"../../plugins/axios\";\r\n\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\nexport class AbsenteismoConfiguracaoFormController implements IAbsenteismoConfiguracaoFormController {\r\n  _view: IAbsenteismoConfiguracaoFormView;\r\n\r\n  _lista = [\r\n    {\r\n      numero: \"\",\r\n      produto: \"\",\r\n      descricao: \"\",\r\n      quantidade: \"\",\r\n      dataNecessidade: \"\",\r\n      um: \"\",\r\n      justificativa: \"\",\r\n      acao: [new HeaderAction(\"\", \"\", \"\", \"\", \"\")],\r\n    },\r\n  ];\r\n\r\n  constructor(view: IAbsenteismoConfiguracaoFormView) {\r\n    this._view = view;\r\n  }\r\n\r\n  carregarItens(): void {\r\n    this._view.loading(true)\r\n\r\n    axios\r\n      .get('AbsenteismoConfiguracao')\r\n      .then((response: any) => {\r\n\r\n        response.data.forEach((element: any) => {\r\n\r\n          if (element.status == 'A') {\r\n            element.acoes = [\r\n              new HeaderAction(\"mdi-cancel\", \"primary\", \"Teste\", \"deleteItem\", \"200px\")\r\n            ]\r\n          }\r\n\r\n          if (element.status == 'I') {\r\n            element.acoes = [\r\n              new HeaderAction(\"mdi-cancel\", \"error\", \"Teste\", \"editarItem\", \"200px\")\r\n            ]\r\n          }\r\n        });\r\n\r\n        this._view.limparCampos();\r\n        this._view.loading(false)\r\n        this._view.showItens(response.data)\r\n\r\n      }).catch((e: any) => {\r\n        this._view.loading(false)\r\n        this._view.showMsg(e)\r\n      })\r\n  }\r\n\r\n\r\n  salvar(configuracao: any): void {\r\n\r\n    this._view.loading(true);\r\n\r\n    axios\r\n      .post(\"AbsenteismoConfiguracao\", configuracao)\r\n      .then((response: any) => {\r\n        this._view.loading(false);\r\n        if (response.data.sucesso) {\r\n          this._view.showMsg(response.data.message);\r\n          this.carregarItens();\r\n\r\n        } else {\r\n          this._view.showMsg(\"Não foi possível salvar os dados do tipo de absenteísmo\");\r\n        }\r\n      })\r\n      .catch((e: any) => {\r\n        this._view.loading(false);\r\n        this._view.showMsg(e);\r\n      });\r\n\r\n  }\r\n\r\n  deleteitem(id: number): void {\r\n    this._view.loading(true)\r\n\r\n    axios.delete('AbsenteismoConfiguracao/' + id).then((response: any) => {\r\n      this._view.loading(false)\r\n      if (response.data.sucesso) {\r\n        // this._view.showMsg(\"Salvo com sucesso.\")\r\n        this._view.showMsg(response.data.message)\r\n        this.carregarItens();\r\n      } else {\r\n        this._view.showMsg(response.data.message)\r\n      }\r\n    }).catch((e: any) => {\r\n      this._view.loading(false)\r\n      this._view.showMsg(e)\r\n    })\r\n  }\r\n\r\n  ativaritem(id: number): void {\r\n    this._view.loading(true)\r\n\r\n    axios.put('AbsenteismoConfiguracao/' + id).then((response: any) => {\r\n      this._view.loading(false)\r\n      if (response.data.sucesso) {\r\n        // this._view.showMsg(\"Salvo com sucesso.\")\r\n        this._view.showMsg(response.data.message)\r\n        this.carregarItens();\r\n      } else {\r\n        this._view.showMsg(response.data.message)\r\n      }\r\n    }).catch((e: any) => {\r\n      this._view.loading(false)\r\n      this._view.showMsg(e)\r\n    })\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}]}