{"remainingRequest":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Cadastro\\FuncionarioListaController.ts","dependencies":[{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Cadastro\\FuncionarioListaController.ts","mtime":1595176753888},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL3BsdWdpbnMvYXhpb3MiOwppbXBvcnQgeyBIZWFkZXJBY3Rpb24gfSBmcm9tICIuLi8uLi9tb2RlbHMvaGVhZGVyIjsKZXhwb3J0IHZhciBGdW5jaW9uYXJpb0xpc3RhQ29udHJvbGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRnVuY2lvbmFyaW9MaXN0YUNvbnRyb2xsZXIodmlldykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZ1bmNpb25hcmlvTGlzdGFDb250cm9sbGVyKTsKCiAgICB0aGlzLl92aWV3ID0gdmlldzsKICB9CgogIF9jcmVhdGVDbGFzcyhGdW5jaW9uYXJpb0xpc3RhQ29udHJvbGxlciwgW3sKICAgIGtleTogImNhcnJlZ2FySXRlbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhcnJlZ2FySXRlbnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5nZXQoJ0Z1bmNpb25hcmlvTG9jYWwnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgZWxlbWVudC5hY29lcyA9IFtuZXcgSGVhZGVyQWN0aW9uKCJtZGktcGVuY2lsIiwgInByaW1hcnkiLCAiVGVzdGUiLCAiZWRpdGFySXRlbSIsICIyMDBweCIpLCBuZXcgSGVhZGVyQWN0aW9uKCJtZGktZGVsZXRlIiwgInByaW1hcnkiLCAiVGVzdGUiLCAiZGVsZXRlSXRlbSIsICIyMDBweCIpXTsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgIF90aGlzLl92aWV3LnNob3dJdGVucyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMuX3ZpZXcuc2hvd01zZyhlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXR1YWxpemFCYXNlRnVuY2lvbmFyaW9zRVJQIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdHVhbGl6YUJhc2VGdW5jaW9uYXJpb3NFUlAoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKHRydWUpOwoKICAgICAgYXhpb3MuZ2V0KCdGdW5jaW9uYXJpb0xvY2FsL2dldGltcG9zdGFjYW9mdW5jaW9uYXJpb2VycCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBfdGhpczIuX3ZpZXcuc2hvd01zZyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMyLl92aWV3LnNob3dNc2coZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImRlbGV0ZWl0ZW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZWl0ZW0oaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5kZWxldGUoJ0Z1bmNpb25hcmlvTG9jYWwvJyArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjZXNzbykgewogICAgICAgICAgLy8gdGhpcy5fdmlldy5zaG93TXNnKCJTYWx2byBjb20gc3VjZXNzby4iKQogICAgICAgICAgX3RoaXMzLl92aWV3LnNob3dNc2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICBfdGhpczMuY2FycmVnYXJJdGVucygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuX3ZpZXcuc2hvd01zZyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgIF90aGlzMy5fdmlldy5zaG93TXNnKGUpOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGdW5jaW9uYXJpb0xpc3RhQ29udHJvbGxlcjsKfSgpOw=="},{"version":3,"sources":["C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Cadastro\\FuncionarioListaController.ts"],"names":[],"mappings":";;;;AACA,OAAO,KAAP,MAAkB,qBAAlB;AAGA,SAA6B,YAA7B,QAAiD,qBAAjD;AAGA,WAAa,0BAAb;AAII,sCAAY,IAAZ,EAAuC;AAAA;;AACnC,SAAK,KAAL,GAAa,IAAb;AACH;;AANL;AAAA;AAAA,oCAQiB;AAAA;;AACT,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,MAAA,KAAK,CACA,GADL,CACS,kBADT,EAEK,IAFL,CAEU,UAAC,QAAD,EAAkB;AAEpB,QAAA,QAAQ,CAAC,IAAT,CAAc,OAAd,CAAsB,UAAC,OAAD,EAAwC;AAC1D,UAAA,OAAO,CAAC,KAAR,GAAgB,CACZ,IAAI,YAAJ,CAAiB,YAAjB,EAA+B,SAA/B,EAA0C,OAA1C,EAAmD,YAAnD,EAAiE,OAAjE,CADY,EAEZ,IAAI,YAAJ,CAAiB,YAAjB,EAA+B,SAA/B,EAA0C,OAA1C,EAAmD,YAAnD,EAAiE,OAAjE,CAFY,CAAhB;AAIH,SALD;;AAOA,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,KAAI,CAAC,KAAL,CAAW,SAAX,CAAqB,QAAQ,CAAC,IAA9B;AACH,OAbL,EAaO,KAbP,CAaa,UAAC,CAAD,EAAW;AAChB,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB;AACH,OAhBL;AAiBH;AA5BL;AAAA;AAAA,kDA8B+B;AAAA;;AACvB,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,MAAA,KAAK,CACA,GADL,CACS,8CADT,EAEK,IAFL,CAEU,UAAC,QAAD,EAAkB;AACpB,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,QAAQ,CAAC,IAAT,CAAc,OAAjC;AACH,OALL,EAKO,KALP,CAKa,UAAC,CAAD,EAAW;AAChB,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB;AACH,OARL;AASH;AA1CL;AAAA;AAAA,+BA4Ce,EA5Cf,EA4CyB;AAAA;;AACjB,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,MAAA,KAAK,CAAC,MAAN,CAAa,sBAAsB,EAAnC,EAAuC,IAAvC,CAA4C,UAAC,QAAD,EAAkB;AAC1D,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,OAAlB,EAA2B;AACvB;AACA,UAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,QAAQ,CAAC,IAAT,CAAc,OAAjC;;AACA,UAAA,MAAI,CAAC,aAAL;AACH,SAJD,MAIO;AACH,UAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,QAAQ,CAAC,IAAT,CAAc,OAAjC;AACH;AACJ,OATD,EASG,KATH,CASS,UAAC,CAAD,EAAW;AAChB,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB;AACH,OAZD;AAaH;AA5DL;;AAAA;AAAA","sourcesContent":["import { IFuncionarioListaView, IFuncionarioListaController } from \"../../contracts/Cadastro/FuncionarioListaContract\";\r\nimport axios from \"../../plugins/axios\"\r\n\r\nimport { Storage } from \"../../configuration/storage\"\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\nexport class FuncionarioListaController implements IFuncionarioListaController {\r\n\r\n    _view: IFuncionarioListaView\r\n\r\n    constructor(view: IFuncionarioListaView) {\r\n        this._view = view\r\n    }\r\n\r\n    carregarItens(): void {\r\n        this._view.loading(true)\r\n\r\n        axios\r\n            .get('FuncionarioLocal')\r\n            .then((response: any) => {\r\n\r\n                response.data.forEach((element: { acoes: HeaderAction[]; }) => {\r\n                    element.acoes = [\r\n                        new HeaderAction(\"mdi-pencil\", \"primary\", \"Teste\", \"editarItem\", \"200px\"),\r\n                        new HeaderAction(\"mdi-delete\", \"primary\", \"Teste\", \"deleteItem\", \"200px\")\r\n                    ]\r\n                });\r\n\r\n                this._view.loading(false)\r\n                this._view.showItens(response.data)\r\n            }).catch((e: any) => {\r\n                this._view.loading(false)\r\n                this._view.showMsg(e)\r\n            })\r\n    }\r\n\r\n    atualizaBaseFuncionariosERP(): void {\r\n        this._view.loading(true)\r\n\r\n        axios\r\n            .get('FuncionarioLocal/getimpostacaofuncionarioerp')\r\n            .then((response: any) => {\r\n                this._view.loading(false)\r\n                this._view.showMsg(response.data.message)\r\n            }).catch((e: any) => {\r\n                this._view.loading(false)\r\n                this._view.showMsg(e)\r\n            })\r\n    }\r\n\r\n    deleteitem(id: number): void {\r\n        this._view.loading(true)\r\n\r\n        axios.delete('FuncionarioLocal/' + id).then((response: any) => {\r\n            this._view.loading(false)\r\n            if (response.data.sucesso) {\r\n                // this._view.showMsg(\"Salvo com sucesso.\")\r\n                this._view.showMsg(response.data.message)\r\n                this.carregarItens()\r\n            } else {\r\n                this._view.showMsg(response.data.message)\r\n            }\r\n        }).catch((e: any) => {\r\n            this._view.loading(false)\r\n            this._view.showMsg(e)\r\n        })\r\n    }\r\n\r\n\r\n}"],"sourceRoot":""}]}