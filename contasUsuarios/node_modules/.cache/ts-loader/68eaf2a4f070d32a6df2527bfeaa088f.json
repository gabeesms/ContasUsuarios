{"remainingRequest":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\SaidaAntecipada\\SaidaAntecipadaListaController.ts","dependencies":[{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\SaidaAntecipada\\SaidaAntecipadaListaController.ts","mtime":1613748503121},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL3BsdWdpbnMvYXhpb3MiOwppbXBvcnQgeyBIZWFkZXJBY3Rpb24gfSBmcm9tICIuLi8uLi9tb2RlbHMvaGVhZGVyIjsKZXhwb3J0IHZhciBTYWlkYUFudGVjaXBhZGFMaXN0YUNvbnRyb2xsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNhaWRhQW50ZWNpcGFkYUxpc3RhQ29udHJvbGxlcih2aWV3KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2FpZGFBbnRlY2lwYWRhTGlzdGFDb250cm9sbGVyKTsKCiAgICB0aGlzLl92aWV3ID0gdmlldzsKICB9CgogIF9jcmVhdGVDbGFzcyhTYWlkYUFudGVjaXBhZGFMaXN0YUNvbnRyb2xsZXIsIFt7CiAgICBrZXk6ICJjYXJyZWdhckl0ZW5zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYXJyZWdhckl0ZW5zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKHRydWUpOwoKICAgICAgdGhpcy5jYXJyZWdhclR1cm5vcygpOwogICAgICBheGlvcy5nZXQoJ1NhaWRhQW50ZWNpcGFkYScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBlbGVtZW50LmFjb2VzID0gW25ldyBIZWFkZXJBY3Rpb24oIm1kaS1wZW5jaWwiLCAicHJpbWFyeSIsICJUZXN0ZSIsICJlZGl0YXJJdGVtIiwgIjIwMHB4IiksIG5ldyBIZWFkZXJBY3Rpb24oIm1kaS1kZWxldGUiLCAicHJpbWFyeSIsICJUZXN0ZSIsICJkZWxldGVJdGVtIiwgIjIwMHB4IildOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMuX3ZpZXcuc2hvd0l0ZW5zKHJlc3BvbnNlLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBfdGhpcy5fdmlldy5zaG93TXNnKGUsIDApOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYXJyZWdhclR1cm5vcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FycmVnYXJUdXJub3MoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy90aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSkKICAgICAgYXhpb3MuZ2V0KCJGdW5jaW9uYXJpb0xvY2FsIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuX3ZpZXcuY2FycmVnYUZ1bmNpb25hcmlvKHJlc3BvbnNlLmRhdGEpOyAvL3RoaXMuX3ZpZXcubG9hZGluZyhmYWxzZSkKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyLl92aWV3LmxvYWRpbmcoZmFsc2UpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYWx2YXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhbHZhcihzYWlkYUFudGVjaXBhZGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5wb3N0KCJTYWlkYUFudGVjaXBhZGEiLCBzYWlkYUFudGVjaXBhZGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNlc3NvKSB7CiAgICAgICAgICBfdGhpczMuX3ZpZXcuc2hvd01zZyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UsIDEpOwoKICAgICAgICAgIF90aGlzMy5jYXJyZWdhckl0ZW5zKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy5fdmlldy5zaG93TXNnKCJOw6NvIGZvaSBwb3Nzw612ZWwgc2FsdmFyIG9zIGRhZG9zIGRhIHNvbGljaXRhw6fDo28gZGUgc2HDrWRhIGFudGVjaXBhZGEuIiwgMCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMzLl92aWV3LnNob3dNc2coZSwgMCk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNhaWRhQW50ZWNpcGFkYUxpc3RhQ29udHJvbGxlcjsKfSgpOw=="},{"version":3,"sources":["C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\SaidaAntecipada\\SaidaAntecipadaListaController.ts"],"names":[],"mappings":";;;;AACA,OAAO,KAAP,MAAkB,qBAAlB;AAGA,SAA6B,YAA7B,QAAiD,qBAAjD;AAGA,WAAa,8BAAb;AAII,0CAAY,IAAZ,EAA2C;AAAA;;AACvC,SAAK,KAAL,GAAa,IAAb;AACH;;AANL;AAAA;AAAA,oCAQiB;AAAA;;AACT,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,WAAK,cAAL;AAEA,MAAA,KAAK,CACA,GADL,CACS,iBADT,EAEK,IAFL,CAEU,UAAC,QAAD,EAAkB;AAEpB,QAAA,QAAQ,CAAC,IAAT,CAAc,OAAd,CAAsB,UAAC,OAAD,EAAwC;AAC1D,UAAA,OAAO,CAAC,KAAR,GAAgB,CACZ,IAAI,YAAJ,CAAiB,YAAjB,EAA+B,SAA/B,EAA0C,OAA1C,EAAmD,YAAnD,EAAiE,OAAjE,CADY,EAEZ,IAAI,YAAJ,CAAiB,YAAjB,EAA+B,SAA/B,EAA0C,OAA1C,EAAmD,YAAnD,EAAiE,OAAjE,CAFY,CAAhB;AAIH,SALD;;AAOR,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACQ,QAAA,KAAI,CAAC,KAAL,CAAW,SAAX,CAAqB,QAAQ,CAAC,IAA9B;AACH,OAbL,EAaO,KAbP,CAaa,UAAC,CAAD,EAAW;AAChB,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB,EAAsB,CAAtB;AACH,OAhBL;AAiBH;AA9BL;AAAA;AAAA,qCAgCkB;AAAA;;AACV;AAGA,MAAA,KAAK,CACA,GADL,CACS,kBADT,EAEK,IAFL,CAEU,UAAC,QAAD,EAAkB;AACpB,QAAA,MAAI,CAAC,KAAL,CAAW,kBAAX,CAA8B,QAAQ,CAAC,IAAvC,EADoB,CAEpB;;AAEH,OANL,EAMO,KANP,CAMa,UAAC,CAAD,EAAW;AAChB,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;AAEH,OATL;AAUH;AA9CL;AAAA;AAAA,2BAgDW,eAhDX,EAgD+B;AAAA;;AAEvB,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,MAAA,KAAK,CACF,IADH,CACQ,iBADR,EAC2B,eAD3B,EAEG,IAFH,CAEQ,UAAC,QAAD,EAAkB;AACtB,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,OAAlB,EAA2B;AACzB,UAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,QAAQ,CAAC,IAAT,CAAc,OAAjC,EAA0C,CAA1C;;AACA,UAAA,MAAI,CAAC,aAAL;AACD,SAHD,MAGO;AACL,UAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,sEAAnB,EAA2F,CAA3F;AACD;AACF,OAVH,EAWG,KAXH,CAWS,UAAC,CAAD,EAAW;AAChB,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB,EAAsB,CAAtB;AACD,OAdH;AAgBD;AApEP;;AAAA;AAAA","sourcesContent":["import { ISaidaAntecipadaListaView, ISaidaAntecipadaListaController } from \"../../contracts/SaidaAntecipada/SaidaAntecipadaListaContract\";\nimport axios from \"../../plugins/axios\"\n\nimport { Storage } from \"../../configuration/storage\"\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\nimport { Headers } from \"../../models/headers\";\n\nexport class SaidaAntecipadaListaController implements ISaidaAntecipadaListaController {\n\n    _view: ISaidaAntecipadaListaView\n\n    constructor(view: ISaidaAntecipadaListaView) {\n        this._view = view\n    }\n\n    carregarItens(): void {\n        this._view.loading(true)\n\n        this.carregarTurnos();\n\n        axios\n            .get('SaidaAntecipada')\n            .then((response: any) => {\n\n                response.data.forEach((element: { acoes: HeaderAction[]; }) => {\n                    element.acoes = [\n                        new HeaderAction(\"mdi-pencil\", \"primary\", \"Teste\", \"editarItem\", \"200px\"),\n                        new HeaderAction(\"mdi-delete\", \"primary\", \"Teste\", \"deleteItem\", \"200px\")\n                    ]\n                });\n\n        this._view.loading(false)\n                this._view.showItens(response.data)\n            }).catch((e: any) => {\n                this._view.loading(false)\n                this._view.showMsg(e, 0)\n            })\n    }\n\n    carregarTurnos() {\n        //this._view.loading(true)\n\n\n        axios\n            .get(\"FuncionarioLocal\")\n            .then((response: any) => {\n                this._view.carregaFuncionario(response.data)\n                //this._view.loading(false)\n\n            }).catch((e: any) => {\n                this._view.loading(false)\n\n            })\n    }\n\n    salvar(saidaAntecipada: any): void {\n\n        this._view.loading(true);\n    \n        axios\n          .post(\"SaidaAntecipada\", saidaAntecipada)\n          .then((response: any) => {\n            this._view.loading(false);\n            if (response.data.sucesso) {\n              this._view.showMsg(response.data.message, 1);\n              this.carregarItens();\n            } else {\n              this._view.showMsg(\"Não foi possível salvar os dados da solicitação de saída antecipada.\", 0);\n            }\n          })\n          .catch((e: any) => {\n            this._view.loading(false);\n            this._view.showMsg(e, 0);\n          });\n    \n      }\n\n\n    // deleteitem(id: number): void {\n    //     this._view.loading(true)\n\n    //     axios.delete('FuncionarioLocal/' + id).then((response: any) => {\n    //         this._view.loading(false)\n    //         if (response.data.sucesso) {\n    //             // this._view.showMsg(\"Salvo com sucesso.\")\n    //             this._view.showMsg(response.data.message)\n    //             this.carregarItens()\n    //         } else {\n    //             this._view.showMsg(response.data.message)\n    //         }\n    //     }).catch((e: any) => {\n    //         this._view.loading(false)\n    //         this._view.showMsg(e)\n    //     })\n    // }\n\n\n}"],"sourceRoot":""}]}