{"remainingRequest":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\EspelhoPonto\\EspelhoPontoListaController.ts","dependencies":[{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\EspelhoPonto\\EspelhoPontoListaController.ts","mtime":1609294086055},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovd2FtcDY0L3d3dy9Db250YXNVc3Vhcmlvc19Nb2RlbG9UZXN0ZS9zbWFydHBvaW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL3BsdWdpbnMvYXhpb3MiOwppbXBvcnQgeyBIZWFkZXJBY3Rpb24gfSBmcm9tICIuLi8uLi9tb2RlbHMvaGVhZGVyIjsKZXhwb3J0IHZhciBFc3BlbGhvUG9udG9MaXN0YUNvbnRyb2xsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEVzcGVsaG9Qb250b0xpc3RhQ29udHJvbGxlcih2aWV3KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXNwZWxob1BvbnRvTGlzdGFDb250cm9sbGVyKTsKCiAgICB0aGlzLl92aWV3ID0gdmlldzsKICB9CgogIF9jcmVhdGVDbGFzcyhFc3BlbGhvUG9udG9MaXN0YUNvbnRyb2xsZXIsIFt7CiAgICBrZXk6ICJjYXJyZWdhckl0ZW5zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYXJyZWdhckl0ZW5zKCkgewogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICB0aGlzLmNhcnJlZ2FyVHVybm9zKCk7IC8vIGF4aW9zCiAgICAgIC8vICAgICAuZ2V0KCdGdW5jaW9uYXJpb0xvY2FsJykKICAgICAgLy8gICAgIC50aGVuKChyZXNwb25zZTogYW55KSA9PiB7CiAgICAgIC8vICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKChlbGVtZW50OiB7IGFjb2VzOiBIZWFkZXJBY3Rpb25bXTsgfSkgPT4gewogICAgICAvLyAgICAgICAgICAgICBlbGVtZW50LmFjb2VzID0gWwogICAgICAvLyAgICAgICAgICAgICAgICAgbmV3IEhlYWRlckFjdGlvbigibWRpLXBlbmNpbCIsICJwcmltYXJ5IiwgIlRlc3RlIiwgImVkaXRhckl0ZW0iLCAiMjAwcHgiKSwKICAgICAgLy8gICAgICAgICAgICAgICAgIG5ldyBIZWFkZXJBY3Rpb24oIm1kaS1kZWxldGUiLCAicHJpbWFyeSIsICJUZXN0ZSIsICJkZWxldGVJdGVtIiwgIjIwMHB4IikKICAgICAgLy8gICAgICAgICAgICAgXQogICAgICAvLyAgICAgICAgIH0pOwoKICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKTsgLy8gICAgICAgICB0aGlzLl92aWV3LnNob3dJdGVucyhyZXNwb25zZS5kYXRhKQogICAgICAvLyAgICAgfSkuY2F0Y2goKGU6IGFueSkgPT4gewogICAgICAvLyAgICAgICAgIHRoaXMuX3ZpZXcubG9hZGluZyhmYWxzZSkKICAgICAgLy8gICAgICAgICB0aGlzLl92aWV3LnNob3dNc2coZSkKICAgICAgLy8gICAgIH0pCgogICAgfQogIH0sIHsKICAgIGtleTogImNhcnJlZ2FyVHVybm9zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY2FycmVnYXJUdXJub3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy90aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSkKICAgICAgICAgICAgICAgIGF4aW9zLmdldCgiQ29uc3VsdGFzQmFzZUVSUENvbnRyb2xsZXIvZnVuY2lvbmFyaW9lcnB0dXJubyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLl92aWV3LmNhcnJlZ2FUdXJub3MocmVzcG9uc2UuZGF0YSk7IC8vdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKQoKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjYXJyZWdhclR1cm5vcygpIHsKICAgICAgICByZXR1cm4gX2NhcnJlZ2FyVHVybm9zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjYXJyZWdhclR1cm5vczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImJ1c2NhckVzcGVsaG9Qb250byIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2J1c2NhckVzcGVsaG9Qb250byA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZHRJbmljaW8sIGR0RmluYWwsIHR1cm5vcykgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKHRydWUpOwoKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoIkZ1bmNpb25hcmlvTG9jYWwvZXNwZWxob1BvbnRvLyIgKyBkdEluaWNpbyArICcvJyArIGR0RmluYWwsIHR1cm5vcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hY29lcyA9IFtuZXcgSGVhZGVyQWN0aW9uKCJtZGktcGVuY2lsIiwgInByaW1hcnkiLCAiVGVzdGUiLCAiZWRpdGFySXRlbSIsICIyMDBweCIpXTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuX3ZpZXcuc2hvd0l0ZW5zKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLl92aWV3LnNob3dNc2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYnVzY2FyRXNwZWxob1BvbnRvKF94LCBfeDIsIF94MykgewogICAgICAgIHJldHVybiBfYnVzY2FyRXNwZWxob1BvbnRvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBidXNjYXJFc3BlbGhvUG9udG87CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkZWxldGVpdGVtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVpdGVtKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKHRydWUpOwoKICAgICAgYXhpb3MuZGVsZXRlKCdGdW5jaW9uYXJpb0xvY2FsLycgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Vzc28pIHsKICAgICAgICAgIC8vIHRoaXMuX3ZpZXcuc2hvd01zZygiU2Fsdm8gY29tIHN1Y2Vzc28uIikKICAgICAgICAgIF90aGlzMy5fdmlldy5zaG93TXNnKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CgogICAgICAgICAgX3RoaXMzLmNhcnJlZ2FySXRlbnMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLl92aWV3LnNob3dNc2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBfdGhpczMuX3ZpZXcuc2hvd01zZyhlKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRXNwZWxob1BvbnRvTGlzdGFDb250cm9sbGVyOwp9KCk7"},{"version":3,"sources":["C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\EspelhoPonto\\EspelhoPontoListaController.ts"],"names":[],"mappings":"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","sourcesContent":["import { IEspelhoPontoListaView, IEspelhoPontoListaController } from \"../../contracts/EspelhoPonto/EspelhoPontoListaContract\";\r\nimport axios from \"../../plugins/axios\"\r\n\r\nimport { Storage } from \"../../configuration/storage\"\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\nexport class EspelhoPontoListaController implements IEspelhoPontoListaController {\r\n\r\n    _view: IEspelhoPontoListaView\r\n\r\n    constructor(view: IEspelhoPontoListaView) {\r\n        this._view = view\r\n    }\r\n\r\n    carregarItens(): void {\r\n        this._view.loading(true)\r\n\r\n        this.carregarTurnos();\r\n        // axios\r\n        //     .get('FuncionarioLocal')\r\n        //     .then((response: any) => {\r\n\r\n        //         response.data.forEach((element: { acoes: HeaderAction[]; }) => {\r\n        //             element.acoes = [\r\n        //                 new HeaderAction(\"mdi-pencil\", \"primary\", \"Teste\", \"editarItem\", \"200px\"),\r\n        //                 new HeaderAction(\"mdi-delete\", \"primary\", \"Teste\", \"deleteItem\", \"200px\")\r\n        //             ]\r\n        //         });\r\n\r\n                 this._view.loading(false)\r\n        //         this._view.showItens(response.data)\r\n        //     }).catch((e: any) => {\r\n        //         this._view.loading(false)\r\n        //         this._view.showMsg(e)\r\n        //     })\r\n    }\r\n\r\n    async carregarTurnos() {\r\n        //this._view.loading(true)\r\n\r\n\r\n        axios\r\n            .get(\"ConsultasBaseERPController/funcionarioerpturno\")\r\n            .then((response: any) => {\r\n                this._view.carregaTurnos(response.data)\r\n                //this._view.loading(false)\r\n\r\n            }).catch((e: any) => {\r\n                this._view.loading(false)\r\n\r\n            })\r\n    }\r\n\r\n    async buscarEspelhoPonto(dtInicio: string, dtFinal: string, turnos: any) {\r\n        this._view.loading(true)\r\n\r\n\r\n        axios\r\n            .post(\"FuncionarioLocal/espelhoPonto/\" + dtInicio + '/' + dtFinal, turnos)\r\n            .then((response: any) => {\r\n                let index = 0;\r\n                response.data.forEach((element: { acoes: HeaderAction[]; }) => {\r\n                    element.acoes = [\r\n                        new HeaderAction(\"mdi-pencil\", \"primary\", \"Teste\", \"editarItem\", \"200px\"),\r\n                        //new HeaderAction(\"mdi-delete\", \"primary\", \"Teste\", \"deleteItem\", \"200px\")\r\n                    ]\r\n                });\r\n\r\n                this._view.loading(false)\r\n                this._view.showItens(response.data)\r\n            }).catch((e: any) => {\r\n                this._view.loading(false)\r\n                this._view.showMsg(e)\r\n            })\r\n    }\r\n\r\n\r\n    deleteitem(id: number): void {\r\n        this._view.loading(true)\r\n\r\n        axios.delete('FuncionarioLocal/' + id).then((response: any) => {\r\n            this._view.loading(false)\r\n            if (response.data.sucesso) {\r\n                // this._view.showMsg(\"Salvo com sucesso.\")\r\n                this._view.showMsg(response.data.message)\r\n                this.carregarItens()\r\n            } else {\r\n                this._view.showMsg(response.data.message)\r\n            }\r\n        }).catch((e: any) => {\r\n            this._view.loading(false)\r\n            this._view.showMsg(e)\r\n        })\r\n    }\r\n\r\n\r\n}"],"sourceRoot":""}]}