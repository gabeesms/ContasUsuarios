{"remainingRequest":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\wamp64\\www\\smartpoint\\smartpoint\\src\\controllers\\Base\\BaseFormController.ts","dependencies":[{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\src\\controllers\\Base\\BaseFormController.ts","mtime":1596028814819},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\smartpoint\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi93YW1wNjQvd3d3L3NtYXJ0cG9pbnQvc21hcnRwb2ludC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L3dhbXA2NC93d3cvc21hcnRwb2ludC9zbWFydHBvaW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBheGlvcyBmcm9tICIuLi8uLi9wbHVnaW5zL2F4aW9zIjsKaW1wb3J0IHsgSGVhZGVyQWN0aW9uIH0gZnJvbSAiLi4vLi4vbW9kZWxzL2hlYWRlciI7CmV4cG9ydCB2YXIgQmFzZUZvcm1Db250cm9sbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCYXNlRm9ybUNvbnRyb2xsZXIodmlldykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VGb3JtQ29udHJvbGxlcik7CgogICAgdGhpcy5fbGlzdGEgPSBbewogICAgICBudW1lcm86ICIiLAogICAgICBwcm9kdXRvOiAiIiwKICAgICAgZGVzY3JpY2FvOiAiIiwKICAgICAgcXVhbnRpZGFkZTogIiIsCiAgICAgIGRhdGFOZWNlc3NpZGFkZTogIiIsCiAgICAgIHVtOiAiIiwKICAgICAganVzdGlmaWNhdGl2YTogIiIsCiAgICAgIGFjYW86IFtuZXcgSGVhZGVyQWN0aW9uKCIiLCAiIiwgIiIsICIiLCAiIildCiAgICB9XTsKICAgIHRoaXMuX3ZpZXcgPSB2aWV3OwogIH0KCiAgX2NyZWF0ZUNsYXNzKEJhc2VGb3JtQ29udHJvbGxlciwgW3sKICAgIGtleTogImNhcnJlZ2FyRHRvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FycmVnYXJEdG9zKG1hdHJpY3VsYSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKHRydWUpOwoKICAgICAgaWYgKG1hdHJpY3VsYSAhPSAndW5kZWZpbmVkJykgewogICAgICAgIC8vQ0FSUkVHQSBFRElUQVIKICAgICAgICBheGlvcy5nZXQoIkZ1bmNpb25hcmlvTG9jYWwvIiArIG1hdHJpY3VsYSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgIF90aGlzLl92aWV3LnNob3dCYXNlRm9yRWRpdGFyKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKCiAgICAgICAgICBfdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgICBfdGhpcy5fdmlldy5zaG93TXNnKGUsIDApOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2FsdmFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYWx2YXIoZnVuY2lvbmFyaW8pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5wb3N0KCJGdW5jaW9uYXJpb0xvY2FsIiwgZnVuY2lvbmFyaW8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNlc3NvKSB7CiAgICAgICAgICBfdGhpczIuX3ZpZXcuc2hvd01zZyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UsIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuX3ZpZXcuc2hvd01zZygiTsOjbyBmb2kgcG9zc8OtdmVsIHNhbHZhciBvcyBkYWRvcyBkbyBGdW5jaW9uw6FyaW8iLCAwKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBfdGhpczIuX3ZpZXcuc2hvd01zZyhlLCAwKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoaWRGdW5jaW9uYXJpbywgZnVuY2lvbmFyaW8pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5wdXQoIkZ1bmNpb25hcmlvTG9jYWwvIiArIGlkRnVuY2lvbmFyaW8sIGZ1bmNpb25hcmlvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjZXNzbykgewogICAgICAgICAgX3RoaXMzLl92aWV3LnNob3dNc2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlLCAxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLl92aWV3LnNob3dNc2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlLCAwKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBfdGhpczMuX3ZpZXcuc2hvd01zZyhlLCAwKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQmFzZUZvcm1Db250cm9sbGVyOwp9KCk7"},{"version":3,"sources":["C:\\wamp64\\www\\smartpoint\\smartpoint\\src\\controllers\\Base\\BaseFormController.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  IBaseFormView,\r\n  IBaseFormController,\r\n} from \"../../contracts/Base/BaseFormContract\";\r\nimport axios from \"../../plugins/axios\";\r\n\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\nexport class BaseFormController implements IBaseFormController {\r\n  _view: IBaseFormView;\r\n\r\n  _lista = [\r\n    {\r\n      numero: \"\",\r\n      produto: \"\",\r\n      descricao: \"\",\r\n      quantidade: \"\",\r\n      dataNecessidade: \"\",\r\n      um: \"\",\r\n      justificativa: \"\",\r\n      acao: [new HeaderAction(\"\", \"\", \"\", \"\", \"\")],\r\n    },\r\n  ];\r\n\r\n  constructor(view: IBaseFormView) {\r\n    this._view = view;\r\n  }\r\n\r\n  carregarDtos(matricula: string): void {\r\n\r\n    this._view.loading(true);\r\n\r\n\r\n    if (matricula != 'undefined') {\r\n      //CARREGA EDITAR\r\n      axios\r\n        .get(\"FuncionarioLocal/\" + matricula)\r\n        .then((response: any) => {\r\n          this._view.loading(false);\r\n          if (response.data) {\r\n\r\n\r\n            this._view.showBaseForEditar(response.data);\r\n\r\n\r\n          }\r\n        })\r\n        .catch((e: any) => {\r\n          console.log(e);\r\n          this._view.loading(false);\r\n          this._view.showMsg(e, 0);\r\n        });\r\n    }\r\n  }\r\n\r\n\r\n  salvar(funcionario: any): void {\r\n\r\n    this._view.loading(true);\r\n\r\n    axios\r\n      .post(\"FuncionarioLocal\", funcionario)\r\n      .then((response: any) => {\r\n        this._view.loading(false);\r\n        if (response.data.sucesso) {\r\n          this._view.showMsg(response.data.message, 1);\r\n\r\n        } else {\r\n          this._view.showMsg(\"Não foi possível salvar os dados do Funcionário\", 0);\r\n        }\r\n      })\r\n      .catch((e: any) => {\r\n        this._view.loading(false);\r\n        this._view.showMsg(e, 0);\r\n      });\r\n\r\n  }\r\n\r\n  update(idFuncionario: string, funcionario: any): void {\r\n\r\n    this._view.loading(true);\r\n\r\n    axios\r\n      .put(\"FuncionarioLocal/\" + idFuncionario, funcionario)\r\n      .then((response: any) => {\r\n        this._view.loading(false);\r\n        if (response.data.sucesso) {\r\n          this._view.showMsg(response.data.message, 1);\r\n        } else {\r\n          this._view.showMsg(response.data.message, 0);\r\n        }\r\n      })\r\n      .catch((e: any) => {\r\n        this._view.loading(false);\r\n        this._view.showMsg(e, 0);\r\n      });\r\n\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}]}