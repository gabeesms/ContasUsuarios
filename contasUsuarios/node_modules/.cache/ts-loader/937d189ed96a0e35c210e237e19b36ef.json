{"remainingRequest":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Cadastro\\CentroCustoListaController.ts","dependencies":[{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Cadastro\\CentroCustoListaController.ts","mtime":1614198701115},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6L3dhbXA2NC93d3cvQ29udGFzVXN1YXJpb3NfTW9kZWxvVGVzdGUvc21hcnRwb2ludC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L3dhbXA2NC93d3cvQ29udGFzVXN1YXJpb3NfTW9kZWxvVGVzdGUvc21hcnRwb2ludC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgYXhpb3MgZnJvbSAiLi4vLi4vcGx1Z2lucy9heGlvcyI7CmltcG9ydCB7IEhlYWRlckFjdGlvbiB9IGZyb20gIi4uLy4uL21vZGVscy9oZWFkZXIiOwpleHBvcnQgdmFyIENlbnRyb0N1c3RvTGlzdGFDb250cm9sbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDZW50cm9DdXN0b0xpc3RhQ29udHJvbGxlcih2aWV3KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VudHJvQ3VzdG9MaXN0YUNvbnRyb2xsZXIpOwoKICAgIHRoaXMuX3ZpZXcgPSB2aWV3OwogIH0KCiAgX2NyZWF0ZUNsYXNzKENlbnRyb0N1c3RvTGlzdGFDb250cm9sbGVyLCBbewogICAga2V5OiAiY2FycmVnYXJJdGVucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FycmVnYXJJdGVucygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuX3ZpZXcubG9hZGluZyh0cnVlKTsKCiAgICAgIHZhciBjZW50cm9DdXN0byA9IFtdOwogICAgICBheGlvcy5nZXQoJ0NlbnRyb0N1c3RvL2NlbnRyb2N1c3RvbG9jYWwnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBsb2NhbCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgbG9jYWwuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgZWxlbWVudC5hY29lcyA9IFtuZXcgSGVhZGVyQWN0aW9uKCJtZGktcGVuY2lsIiwgInByaW1hcnkiLCAiVGVzdGUiLCAiZWRpdGFySXRlbSIsICIyMDBweCIpXSwgZWxlbWVudC5zZXRvciA9ICJTIiwgY2VudHJvQ3VzdG8ucHVzaChlbGVtZW50KTsKICAgICAgICB9KTsKICAgICAgICBheGlvcy5nZXQoJ0NvbnN1bHRhc0Jhc2VFUlBDb250cm9sbGVyL2NlbnRyb2N1c3RvLycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgZXJwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGVycC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgIGVsZW1lbnQuYWNvZXMgPSBbbmV3IEhlYWRlckFjdGlvbigibWRpLXBlbmNpbCIsICJwcmltYXJ5IiwgIlRlc3RlIiwgImVkaXRhckl0ZW0iLCAiMjAwcHgiKV0sIGVsZW1lbnQuc2V0b3IgPSAiTiI7CiAgICAgICAgICB9KTsKICAgICAgICAgIGVycC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgIGlmICghX3RoaXMudmVyaWZpY2FDZW50cm9DdXN0b0xvY2FsKGVsZW1lbnQuY29kaWdvLnRyaW0oKSwgbG9jYWwpKSB7CiAgICAgICAgICAgICAgY2VudHJvQ3VzdG8ucHVzaChlbGVtZW50KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgICAgX3RoaXMuX3ZpZXcuc2hvd0l0ZW5zKGNlbnRyb0N1c3RvKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CgogICAgICAgICAgX3RoaXMuX3ZpZXcuc2hvd01zZyhlKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMuX3ZpZXcuc2hvd01zZyhlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidmVyaWZpY2FDZW50cm9DdXN0b0xvY2FsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2ZXJpZmljYUNlbnRyb0N1c3RvTG9jYWwoY29kaWdvLCBhcnJheUxvY2FsKSB7CiAgICAgIHZhciByZXRvcm5vID0gZmFsc2U7CiAgICAgIGFycmF5TG9jYWwuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LmNvZGlnby50cmltKCkgPT09IGNvZGlnby50cmltKCkpIHsKICAgICAgICAgIHJldG9ybm8gPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXRvcm5vOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENlbnRyb0N1c3RvTGlzdGFDb250cm9sbGVyOwp9KCk7"},{"version":3,"sources":["C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Cadastro\\CentroCustoListaController.ts"],"names":[],"mappings":";;;;;AACA,OAAO,KAAP,MAAkB,qBAAlB;AAGA,SAA6B,YAA7B,QAAiD,qBAAjD;AAGA,WAAa,0BAAb;AAII,sCAAY,IAAZ,EAAuC;AAAA;;AACnC,SAAK,KAAL,GAAa,IAAb;AACH;;AANL;AAAA;AAAA,oCAQiB;AAAA;;AACT,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,UAAI,WAAW,GAAQ,EAAvB;AAEA,MAAA,KAAK,CACA,GADL,CACS,8BADT,EAEK,IAFL,CAEU,UAAC,QAAD,EAAkB;AAEpB,YAAI,KAAK,GAAG,QAAQ,CAAC,IAArB;AAEA,QAAA,KAAK,CAAC,OAAN,CAAc,UAAC,OAAD,EAAqD;AAC/D,UAAA,OAAO,CAAC,KAAR,GAAgB,CACZ,IAAI,YAAJ,CAAiB,YAAjB,EAA+B,SAA/B,EAA0C,OAA1C,EAAmD,YAAnD,EAAiE,OAAjE,CADY,CAAhB,EAKA,OAAO,CAAC,KAAR,GAAgB,GALhB,EAOA,WAAW,CAAC,IAAZ,CAAiB,OAAjB,CAPA;AAQH,SATD;AAWA,QAAA,KAAK,CACA,GADL,CACS,yCADT,EAEK,IAFL,CAEU,UAAC,QAAD,EAAkB;AACpB,cAAI,GAAG,GAAG,QAAQ,CAAC,IAAnB;AACA,UAAA,GAAG,CAAC,OAAJ,CAAY,UAAC,OAAD,EAAuD;AAC/D,YAAA,OAAO,CAAC,KAAR,GAAgB,CACZ,IAAI,YAAJ,CAAiB,YAAjB,EAA+B,SAA/B,EAA0C,OAA1C,EAAmD,YAAnD,EAAiE,OAAjE,CADY,CAAhB,EAKA,OAAO,CAAC,KAAR,GAAgB,GALhB;AAOH,WARD;AAWA,UAAA,GAAG,CAAC,OAAJ,CAAY,UAAC,OAAD,EAAiB;AAEzB,gBAAI,CAAC,KAAI,CAAC,wBAAL,CAA8B,OAAO,CAAC,MAAR,CAAe,IAAf,EAA9B,EAAqD,KAArD,CAAL,EAAiE;AAC7D,cAAA,WAAW,CAAC,IAAZ,CAAiB,OAAjB;AACH;AACJ,WALD;;AAQA,UAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,SAAX,CAAqB,WAArB;AACH,SAzBL,EAyBO,KAzBP,CAyBa,UAAC,CAAD,EAAW;AAChB,UAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB;AACH,SA5BL;AA8BH,OA/CL,EA+CO,KA/CP,CA+Ca,UAAC,CAAD,EAAW;AAChB,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB;AACH,OAlDL;AAmDH;AAhEL;AAAA;AAAA,6CAmE6B,MAnE7B,EAmE6C,UAnE7C,EAmE4D;AAEpD,UAAI,OAAO,GAAG,KAAd;AAEA,MAAA,UAAU,CAAC,OAAX,CAAmB,UAAC,OAAD,EAAiB;AAEhC,YAAI,OAAO,CAAC,MAAR,CAAe,IAAf,OAA0B,MAAM,CAAC,IAAP,EAA9B,EAA4C;AACxC,UAAA,OAAO,GAAG,IAAV;AACH;AACJ,OALD;AAOA,aAAO,OAAP;AACH;AA/EL;;AAAA;AAAA","sourcesContent":["import { ICentroCustoListaView, ICentroCustoListaController } from \"../../contracts/Cadastro/CentroCustoListaContract\";\r\nimport axios from \"../../plugins/axios\"\r\n\r\nimport { Storage } from \"../../configuration/storage\"\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\nexport class CentroCustoListaController implements ICentroCustoListaController {\r\n\r\n    _view: ICentroCustoListaView\r\n\r\n    constructor(view: ICentroCustoListaView) {\r\n        this._view = view\r\n    }\r\n\r\n    carregarItens(): void {\r\n        this._view.loading(true)\r\n\r\n        let centroCusto: any = [];\r\n\r\n        axios\r\n            .get('CentroCusto/centrocustolocal')\r\n            .then((response: any) => {\r\n\r\n                let local = response.data;\r\n\r\n                local.forEach((element: { acoes: HeaderAction[]; setor: string}) => {\r\n                    element.acoes = [\r\n                        new HeaderAction(\"mdi-pencil\", \"primary\", \"Teste\", \"editarItem\", \"200px\"),\r\n                        //new HeaderAction(\"mdi-delete\", \"primary\", \"Teste\", \"deleteItem\", \"200px\")\r\n                    ],\r\n\r\n                    element.setor = \"S\",\r\n\r\n                    centroCusto.push(element);\r\n                });\r\n\r\n                axios\r\n                    .get('ConsultasBaseERPController/centrocusto/')\r\n                    .then((response: any) => {\r\n                        let erp = response.data;\r\n                        erp.forEach((element: { acoes: HeaderAction[]; setor: string  }) => {\r\n                            element.acoes = [\r\n                                new HeaderAction(\"mdi-pencil\", \"primary\", \"Teste\", \"editarItem\", \"200px\"),\r\n                                //new HeaderAction(\"mdi-delete\", \"primary\", \"Teste\", \"deleteItem\", \"200px\")\r\n                            ],\r\n\r\n                            element.setor = \"N\"\r\n                \r\n                        });\r\n                        \r\n\r\n                        erp.forEach((element: any) => {\r\n                            \r\n                            if (!this.verificaCentroCustoLocal(element.codigo.trim(), local)){\r\n                                centroCusto.push(element)\r\n                            }\r\n                        });\r\n                            \r\n                               \r\n                        this._view.loading(false)\r\n                        this._view.showItens(centroCusto)\r\n                    }).catch((e: any) => {\r\n                        this._view.loading(false)\r\n                        this._view.showMsg(e)\r\n                    })\r\n\r\n            }).catch((e: any) => {\r\n                this._view.loading(false)\r\n                this._view.showMsg(e)\r\n            })\r\n    }\r\n\r\n\r\n    verificaCentroCustoLocal(codigo: string, arrayLocal: any) {\r\n        \r\n        let retorno = false;\r\n\r\n        arrayLocal.forEach((element: any) => {\r\n            \r\n            if (element.codigo.trim() === codigo.trim()){\r\n                retorno = true\r\n            }\r\n        });\r\n\r\n        return retorno;\r\n    }\r\n\r\n\r\n}"],"sourceRoot":""}]}