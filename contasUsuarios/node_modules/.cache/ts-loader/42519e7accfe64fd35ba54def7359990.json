{"remainingRequest":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Linha\\CheckinCatracaController.ts","dependencies":[{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Linha\\CheckinCatracaController.ts","mtime":1612221447475},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi93YW1wNjQvd3d3L0NvbnRhc1VzdWFyaW9zX01vZGVsb1Rlc3RlL3NtYXJ0cG9pbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL3BsdWdpbnMvYXhpb3MiOwpleHBvcnQgdmFyIENoZWNraW5DYXRyYWNhQ29udHJvbGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ2hlY2tpbkNhdHJhY2FDb250cm9sbGVyKHZpZXcpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGVja2luQ2F0cmFjYUNvbnRyb2xsZXIpOwoKICAgIHRoaXMuX3ZpZXcgPSB2aWV3OwogIH0KCiAgX2NyZWF0ZUNsYXNzKENoZWNraW5DYXRyYWNhQ29udHJvbGxlciwgW3sKICAgIGtleTogImNhcnJlZ2FySXRlbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhcnJlZ2FySXRlbnMoKSB7CiAgICAgIHRoaXMuX3ZpZXcubG9hZGluZyh0cnVlKTsKCiAgICAgIHRoaXMuX3ZpZXcubG9hZGluZyhmYWxzZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRhQ2hla2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGFDaGVraW4oZnJJZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5fdmlldy5sb2FkaW5nKHRydWUpOwoKICAgICAgYXhpb3MuZ2V0KCdDaGVja2luQ2F0cmFjYS8nICsgZnJJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIC8vIHRoaXMuX3ZpZXcuc2hvd01zZygiU2Fsdm8gY29tIHN1Y2Vzc28uIikKICAgICAgICAgIF90aGlzLl92aWV3LnZhbGlkYURhZG9zT3BlcmFkb3IocmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgX3RoaXMuX3ZpZXcuc2hvd0l0ZW5zKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5fdmlldy5zaG93TXNnKCJGdW5jaW9uw6FyaW8gbsOjbyBMb2NhbGl6YWRvLCBkaXJpamEtc2UgYW8gUi5ILiBwYXJhIHZlcmlmaWNhw6fDo28gZG9zIHNldXMgZGFkb3MgZGUgQ2hlY2staW4uIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLl92aWV3LmxvYWRpbmcoZmFsc2UpOwoKICAgICAgICBfdGhpcy5fdmlldy5zaG93TXNnKGUpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYWx2YXJDaGVraW5PcGVyYWRvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2FsdmFyQ2hla2luT3BlcmFkb3IoY2hlY2tpbk9wZXJhZG9yTGluaGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLl92aWV3LmxvYWRpbmcodHJ1ZSk7CgogICAgICBheGlvcy5wb3N0KCJDaGVja2luQ2F0cmFjYSIsIGNoZWNraW5PcGVyYWRvckxpbmhhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjZXNzbykgey8vdGhpcy5fdmlldy5zaG93TXNnU2VsZWNpb25hTGluaGEocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLl92aWV3LnNob3dNc2coIk7Do28gZm9pIHBvc3PDrXZlbCBzYWx2YXIgb3MgZGFkb3MgZGUgQ2tlY2staW4uIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi5fdmlldy5sb2FkaW5nKGZhbHNlKTsKCiAgICAgICAgX3RoaXMyLl92aWV3LnNob3dNc2coZSk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENoZWNraW5DYXRyYWNhQ29udHJvbGxlcjsKfSgpOw=="},{"version":3,"sources":["C:\\wamp64\\www\\ContasUsuarios_ModeloTeste\\smartpoint\\src\\controllers\\Linha\\CheckinCatracaController.ts"],"names":[],"mappings":";;AACA,OAAO,KAAP,MAAkB,qBAAlB;AAOA,WAAa,wBAAb;AAII,oCAAY,IAAZ,EAAqC;AAAA;;AACjC,SAAK,KAAL,GAAa,IAAb;AACH;;AANL;AAAA;AAAA,oCAQiB;AACT,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,WAAK,KAAL,CAAW,OAAX,CAAmB,KAAnB;AAEH;AAbL;AAAA;AAAA,iCAeiB,IAfjB,EAe6B;AAAA;;AACrB,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,MAAA,KAAK,CAAC,GAAN,CAAU,oBAAoB,IAA9B,EAAoC,IAApC,CAAyC,UAAC,QAAD,EAAkB;AACvD,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,YAAI,QAAQ,CAAC,IAAb,EAAmB;AACf;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,mBAAX,CAA+B,QAAQ,CAAC,IAAxC;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,SAAX,CAAqB,QAAQ,CAAC,IAA9B;AACH,SAJD,MAIO;AACH,UAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,4FAAnB;AACH;AACJ,OATD,EASG,KATH,CASS,UAAC,CAAD,EAAW;AAChB,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB;AACH,OAZD;AAaH;AA/BL;AAAA;AAAA,yCAiCyB,oBAjCzB,EAiCkD;AAAA;;AAE1C,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB;;AAEA,MAAA,KAAK,CACA,IADL,CACU,gBADV,EAC4B,oBAD5B,EAEK,IAFL,CAEU,UAAC,QAAD,EAAkB;AACpB,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,OAAlB,EAA2B,CACvB;AAEH,SAHD,MAGO;AACH,UAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,+CAAnB;AACH;AACJ,OAVL,EAWK,KAXL,CAWW,UAAC,CAAD,EAAW;AACd,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,KAAnB;;AACA,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,CAAnB;AACH,OAdL;AAgBH;AArDL;;AAAA;AAAA","sourcesContent":["import { ICheckinCatracaView, ICheckinCatracaController } from \"../../contracts/Linha/CheckinCatracaContract\";\r\nimport axios from \"../../plugins/axios\"\r\n\r\nimport { Storage } from \"../../configuration/storage\"\r\nimport { Header, HeaderIcon, HeaderAction } from \"../../models/header\";\r\nimport { Headers } from \"../../models/headers\";\r\n\r\n\r\nexport class CheckinCatracaController implements ICheckinCatracaController {\r\n\r\n    _view: ICheckinCatracaView\r\n\r\n    constructor(view: ICheckinCatracaView) {\r\n        this._view = view\r\n    }\r\n\r\n    carregarItens(): void {\r\n        this._view.loading(true)\r\n\r\n        this._view.loading(false)\r\n        \r\n    }\r\n\r\n    validaChekin(frId: string): void {\r\n        this._view.loading(true)\r\n\r\n        axios.get('CheckinCatraca/' + frId).then((response: any) => {\r\n            this._view.loading(false)\r\n            if (response.data) {\r\n                // this._view.showMsg(\"Salvo com sucesso.\")\r\n                this._view.validaDadosOperador(response.data)\r\n                this._view.showItens(response.data)\r\n            } else {\r\n                this._view.showMsg(\"Funcionário não Localizado, dirija-se ao R.H. para verificação dos seus dados de Check-in.\")\r\n            }\r\n        }).catch((e: any) => {\r\n            this._view.loading(false)\r\n            this._view.showMsg(e)\r\n        })\r\n    }\r\n\r\n    salvarChekinOperador(checkinOperadorLinha: any): void {\r\n\r\n        this._view.loading(true);\r\n\r\n        axios\r\n            .post(\"CheckinCatraca\", checkinOperadorLinha)\r\n            .then((response: any) => {\r\n                this._view.loading(false);\r\n                if (response.data.sucesso) {\r\n                    //this._view.showMsgSelecionaLinha(response.data.message);\r\n\r\n                } else {\r\n                    this._view.showMsg(\"Não foi possível salvar os dados de Ckeck-in.\");\r\n                }\r\n            })\r\n            .catch((e: any) => {\r\n                this._view.loading(false);\r\n                this._view.showMsg(e);\r\n            });\r\n\r\n    }\r\n\r\n}"],"sourceRoot":""}]}